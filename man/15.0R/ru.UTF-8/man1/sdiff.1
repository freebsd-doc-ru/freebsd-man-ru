.\" $OpenBSD: sdiff.1,v 1.15 2007/06/29 14:48:07 jmc Exp $
.\"
.\" Written by Raymond Lai <ray@cyth.net>.
.\" Public domain.
.\"
.\" FRDP path ./usr.bin/sdiff/sdiff.1
.\" FRDP githash a834edfccd14a8c0f152a3b0078469af8e05f3fd
.\" FRDP hash256 fa2856ac127ca3ee1337516ade0393975073bc83c12f572ca076abaa3a69ace6
.Dd 16 февраля 2024
.Dt SDIFF 1
.Os
.Sh ИМЯ
.Nm sdiff
.Nd сравнение файлов в две колонки
.Sh СИНТАКСИС
.Nm
.Op Fl abdilstHW
.Op Fl I Ar regexp
.Op Fl o Ar outfile
.Op Fl w Ar width
.Ar file1
.Ar file2
.Sh ОПИСАНИЕ
.Nm
отображает два файла бок о бок,
с выделением различий между ними следующим образом:
новые строки помечаются символом
.Sq \*(Gt ;
удалённые строки помечаются символом
.Sq \*(Lt ;
а изменённые строки помечаются символом
.Sq \*(Ba .
.Pp
.Nm
также может использоваться для интерактивного слияния двух файлов,
с запросом на каждом наборе различий.
Пояснение см. в описании опции
.Fl o .
.Pp
Доступные опции:
.Bl -tag -width Ds
.It Fl l -left-column
Выводить только левую колонку для идентичных строк.
.It Fl o -output Ar outfile
Интерактивно объединить
.Ar file1
и
.Ar file2
в
.Ar outfile .
В этом режиме пользователю предлагается выбрать действие для каждого набора различий.
Подробности о том, какой редактор (если есть) вызывается, см. в описании переменных окружения
.Ev EDITOR
и
.Ev VISUAL
ниже.
.Pp
Доступные команды:
.Bl -tag -width Ds
.It Cm l | 1
Выбрать левый набор различий.
.It Cm r | 2
Выбрать правый набор различий.
.It Cm s
Тихий режим — идентичные строки не выводятся.
.It Cm v
Подробный режим — идентичные строки выводятся.
.It Cm e
Начать редактирование пустого файла, который будет объединён в
.Ar outfile
после выхода из редактора.
.It Cm e Cm l
Начать редактирование файла с левым набором различий.
.It Cm e Cm r
Начать редактирование файла с правым набором различий.
.It Cm e Cm b
Начать редактирование файла с обоими наборами различий.
.It Cm q
Выйти из
.Nm .
.El
.It Fl s -suppress-common-lines
Пропускать идентичные строки.
.It Fl w -width Ar width
Выводить максимум
.Ar width
символов в каждой строке.
По умолчанию — 130 символов.
.El
.Pp
Опции, передаваемые в
.Xr diff 1 :
.Bl -tag -width Ds
.It Fl a -text
Обрабатывать
.Ar file1
и
.Ar file2
как текстовые файлы.
.It Fl b -ignore-space-change
Игнорировать завершающие пробелы.
.It Fl d -minimal
Минимизировать размер различий.
.It Fl I -ignore-matching-lines Ar regexp
Игнорировать изменения строк, соответствующие
.Ar regexp .
Все строки в изменении должны соответствовать
.Ar regexp ,
чтобы изменение было проигнорировано.
.It Fl i -ignore-case
Выполнять сравнение без учёта регистра.
.It Fl t -expand-tabs
Преобразовывать табуляции в пробелы.
.It Fl W -ignore-all-space
Игнорировать все пробелы.
.It Fl B -ignore-blank-lines
Игнорировать пустые строки.
.It Fl E -ignore-tab-expansion
Считать табуляции и восемь пробелов одинаковыми.
.It Fl H -speed-large-files
Предполагать разрозненные небольшие изменения в большом файле.
.It Fl -ignore-file-name-case
Игнорировать регистр имён файлов.
.It Fl -no-ignore-file-name-case
Не игнорировать регистр имён файлов.
.It Fl -strip-trailing-cr
Пропускать идентичные строки.
.It Fl -tabsize Ar NUM
Изменить размер табуляции (по умолчанию 8).
.El
.Sh ОКРУЖЕНИЕ
.Bl -tag -width Ds
.It Ev EDITOR , VISUAL
Определяет редактор для использования с опцией
.Fl o .
Если заданы обе переменные
.Ev EDITOR
и
.Ev VISUAL ,
приоритет имеет
.Ev VISUAL .
Если ни
.Ev EDITOR ,
ни
.Ev VISUAL
не заданы,
по умолчанию используется
.Xr vi 1 .
.It Ev TMPDIR
Определяет каталог для создания временных файлов.
По умолчанию —
.Pa /tmp .
.El
.Sh СМ. ТАКЖЕ
.Xr cmp 1 ,
.Xr diff 1 ,
.Xr diff3 1 ,
.Xr vi 1 ,
.Xr re_format 7
.Sh АВТОРЫ
.Nm
был написан с нуля как общественное достояние
.An Рэем Лаем Aq ray@cyth.net .
.Sh ЗАМЕЧАНИЯ
Табуляции обрабатываются как символы шириной от одного до восьми знаков,
в зависимости от текущей колонки.
Наилучший вид будет на терминалах, которые отображают табуляции как восемь символов.
