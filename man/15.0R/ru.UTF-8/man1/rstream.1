.\" Licensed under the OpenIB.org BSD license (FreeBSD Variant) - See COPYING.md
.\" FRDP path ./contrib/ofed/librdmacm/man/rstream.1
.\" FRDP githash d6b92ffa990dc57d8a969a98e3ca4e25ba39cbb2
.\" FRDP hash256 085e5e388a3ae879b30a6f6b28962860451e81e8b959f25953838efb58c4f602
.SH ИМЯ
rstream \- тест пинг-понга с потоковой передачей через RDMA.
.SH СИНТАКСИС
.sp
.nf
\fIrstream\fR [-s адрес_сервера] [-b адрес_привязки] [-f формат_адреса]
			[-B размер_буфера] [-I итерации] [-C количество_передач]
			[-S размер_передачи] [-p порт_сервера] [-T параметр_теста]
.fi
Использует протокол потоковой передачи через RDMA (rsocket) для подключения и обмена
данными между клиентским и серверным приложениями.
.TP
\-s адрес_сервера
Сетевое имя или IP-адрес серверной системы, ожидающей подключений.
Используемое имя или адрес должны маршрутизироваться через устройство RDMA.
Этот параметр должен быть указан клиентом.
.TP
\-b адрес_привязки
Локальный сетевой адрес для привязки.
.TP
\-f формат_адреса
Поддерживаемые форматы адресов: ip, ipv6, gid или name.
.TP
\-B размер_буфера
Указывает размер сетевых буферов отправки и приема.
.TP
\-I итерации
Количество раз, которое указанное число сообщений будет
обмениваться между клиентом и сервером. (по умолчанию 1000)
.TP
\-C количество_передач
Количество сообщений для передачи от клиента серверу и
обратно на каждой итерации. (по умолчанию 1000)
.TP
\-S размер_передачи
Размер каждой передачи отправки в байтах. (по умолчанию 1000)
Если указано 'all', rstream выполнит серию тестов различных размеров.
.TP
\-p порт_сервера
Номер порта сервера.
.TP
\-T параметр_теста
Задает параметры теста. Доступные опции:
.P
s | socket  - использует стандартные вызовы сокетов для передачи данных
.P
a | async - использует асинхронную операцию (например, select / poll)
.P
b | blocking - использует блокирующие вызовы
.P
f | fork - разветвляет обработку сервера (принудительно устанавливает опцию -T s)
.P
n | nonblocking - использует неблокирующие вызовы
.P
r | resolve - использует rdma cm для разрешения адреса
.P
v | verify - проверяет передачу данных
Основное использование: запустить rstream на серверной системе, затем выполнить
rstream -s имя_сервера на клиентской системе. По умолчанию rstream
запустит серию тестов производительности на задержку и пропускную способность.
Указание других значений итераций, количества_передач или размера_передачи
запустит пользовательский тест с использованием значений по умолчанию там, где они
не были указаны.
.P
Поскольку этот тест отображает ресурсы RDMA в пользовательское пространство, пользователи должны убедиться,
что у них есть доступные системные ресурсы и разрешения. Дополнительные сведения см. в файле
README libibverbs.
rdma_cm(7)
