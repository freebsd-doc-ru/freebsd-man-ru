.\"
.\"
.\"  To format this reference page, use the command:
.\"
.\"    nroff -man ee.1
.\"
.\"  $Header: /home/hugh/sources/old_ae/RCS/ee.1,v 1.22 2001/12/16 04:49:27 hugh Exp $
.\"
.\"
.\" FRDP path ./contrib/ee/ee.1
.\" FRDP githash 6580cc162dd5297b520fe1be21579bc787974ffb
.\" FRDP hash256 3cfda6d3999b89d923bad94545cd46f5641aa8c94e05a5a98d59b72bd4958300
.ИМЯ
ee \- простой редактор
.СИНТАКСИС
.nf
ee [-e] [-i] [-h] [+#] [\fIfile\fR ...]
ree [-e] [-i] [-h] [+#] [\fIfile\fR ...]
.ta
.fi
.ad b
.ОПИСАНИЕ
Команда
.I ee
представляет собой простой экранный текстовый редактор.
Он всегда находится в режиме вставки текста, если только в нижней части
терминала нет запроса или не присутствует меню (в рамке в середине терминала).
Команда
.I ree
аналогична
.I ee,
но ограничена редактированием указанного файла (файловые операции или выходы в оболочку
не разрешены).
.PP
Редактор с аналогичными пользовательскими качествами, но с большими возможностями, доступен
и называется
.I aee.
.PP
Для правильной работы
.I ee
переменная окружения
.SM TERM
должна быть установлена для указания типа используемого терминала.
Например, для терминала
.SM HP 700/92
,
.SM TERM
Обратитесь к системному администратору, если вам нужна дополнительная информация.
.SS Опции
Следующие опции доступны из командной строки:
.PP
.TP 4
.B -e
Отключает преобразование символа табуляции в пробелы.
.TP
.B -i
Отключает отображение информационного окна в верхней части терминала.
.TP
.B -h
Отключает выделение границ окон и меню (улучшает производительность на
некоторых терминалах).
.TP
.B +#
Перемещает курсор на строку '#' при запуске.
.br
Чтобы выполнить любое действие, кроме вставки текста, пользователь должен использовать управляющие клавиши (
.B Control
алфавитная клавиша, например, ^a) и функциональные клавиши, доступные на клавиатуре
(такие как
клавиши со стрелками и т.д.).
.PP
Поскольку не все терминалы имеют функциональные клавиши,
.I ee
имеет основные функции перемещения курсора, назначенные на управляющие клавиши, а также на более
интуитивно понятные клавиши на клавиатуре, когда они доступны.
Например, чтобы переместить курсор вверх, пользователь может использовать клавишу со стрелкой вверх или
.BR ^u .
.RS 4
.nf
.ta 1.4i
.sp
^a 	Запрос десятичного значения символа для вставки.
^b 	Переход в конец текста.
^c 	Получение запроса на команду.
^d 	Перемещение курсора вниз.
^e 	Запрос строки для поиска.
^f 	Восстановление последнего удаленного символа.
^g 	Переход в начало строки.
^h 	Backspace.
^i 	Tab.
^j 	Вставка новой строки.
^k 	Удаление символа, на котором находится курсор.
^l 	Перемещение курсора влево.
^m 	Вставка новой строки.
^n 	Переход на следующую страницу.
^o 	Переход в конец строки.
^p 	Переход на предыдущую страницу.
^r 	Перемещение курсора вправо.
^t 	Переход в начало текста.
^u 	Перемещение курсора вверх.
^v 	Восстановление последнего удаленного слова.
^w 	Удаление слова, начинающегося с позиции курсора.
^x 	Поиск.
^y 	Удаление от позиции курсора до конца строки.
^z 	Восстановление последней удаленной строки.
^[ (ESC)	Всплывающее меню.
.ta
.fi
.RE
.sp
.PP
Поскольку многие оболочки предоставляют режим Emacs (для перемещения курсора и других операций редактирования),
были предоставлены некоторые привязки, которые могут быть более полезны для людей, знакомых с этими
привязками.
Они доступны через меню
.B settings
или через файл инициализации (см. ниже).
Соответствия следующие:
.RS
.nf
.ta 1.4i
^a	Переход в начало строки.
^b	Назад на 1 символ.
^c	Запрос команды.
^d	Удаление символа, на котором находится курсор.
^e	Конец строки.
^f	Вперед на 1 символ.
^g	Переход на предыдущую страницу.
^h	Backspace.
^i	Tab.
^j	Восстановление последнего удаленного символа.
^k	Удаление строки.
^l	Восстановление последней удаленной строки.
^m	Вставка новой строки.
^n	Переход на следующую строку.
^o	Запрос десятичного значения символа для вставки.
^p	Предыдущая строка.
^r	Восстановление последнего удаленного слова.
^t	Переход в начало текста.
^u	Переход в конец текста.
^v	Переход на следующую страницу.
^w	Удаление слова, начинающегося с позиции курсора.
^y	Запрос строки для поиска.
^z	Следующее слово.
^[ (ESC)	Всплывающее меню.
.ta
.fi
.RE
.sp
.RS 4
Переход на следующую страницу.
Переход на предыдущую страницу.
Удаление символа, на котором находится курсор.
Удаление от курсора до конца строки.
Вставка новой строки в позиции курсора.
Перемещение курсора в указанном направлении.
.RE
.SS Команды
.PP
Некоторые операции требуют больше информации, чем может предоставить одно нажатие клавиши.
Для самых основных операций есть меню, которое можно вызвать, нажав
.SM \fBESC\fR
.
Те же операции и больше можно выполнить, получив
запрос команды (^c) и введя одну из команд ниже.
.RS 4
Выполнить \fBcmd\fR в оболочке.
Перейти на указанную строку.
Сделать поиск чувствительным к регистру.
Отобразить ascii-значение символа в позиции курсора.
Сохранить отредактированный текст и выйти из редактора.
Преобразовать табуляции в пробелы.
Напечатать имя файла.
Отобразить экран справки.
Отобразить текущий номер строки.
Сделать поиск нечувствительным к регистру (по умолчанию).
Не преобразовывать табуляцию в пробелы при нажатии клавиши TAB.
Выйти из редактора без сохранения изменений.
Прочитать указанный \fIfile\fR.
Записать текст в указанный \fIfile\fR.
.RE
.PP
Всплывающие меню можно вызвать, нажав клавишу
.B escape
(или
.B ^[
, если клавиши
.B escape
нет).
При нахождении в меню клавиша escape может использоваться для выхода из меню без выполнения
каких-либо операций.
Используйте клавиши со стрелками вверх и вниз, или
.B ^u
для перемещения вверх и
.B ^d
для перемещения вниз, чтобы перейти к нужным пунктам меню, затем нажмите
.B return
для выполнения указанной задачи.
.PP
Слева от каждого пункта меню находится буква, при нажатии которой на
клавиатуре выбирается эта запись меню.
.PP
Главное меню в \fIee\fR выглядит следующим образом:
.RS 4
Если были внесены изменения, пользователь получит меню с вопросом, следует ли сохранять
изменения.
Отображает экран справки со всеми клавиатурными операциями и командами.
Вызывает меню для выбора: чтение файла, запись в файл или
сохранение текущего содержимого редактора, а также отправку содержимого
редактора на команду печати (см. раздел \fBИнициализация ee из файла\fR).
Предоставляет способ перерисовки экрана, если экран был поврежден.
Показывает текущие значения режимов работы и правого поля. Нажав
return, когда курсор находится на определенном пункте, значение можно
изменить.
Чтобы выйти из этого меню, нажмите клавишу \fBescape\fR. (См. \fBРежимы\fR ниже.)
.br
Вызывает меню, в котором пользователь может выбрать ввод строки для поиска
или поиск уже введенной строки.
Вызывает меню, которое позволяет пользователю форматировать текущий абзац,
выполнять команду оболочки или проверять орфографию текста в редакторе.
.RE
.PP
Абзацы определяются для \fIee\fR как блок текста, ограниченный:
.sp
.RS 8
.IP \(bu
Началом или концом файла.
.IP \(bu
Строкой без символов или только с пробелами и/или табуляциями.
.IP \(bu
Строкой, начинающейся с точки ('.') или знака "больше" ('>').
.RE
.PP
Абзац может быть отформатирован двумя способами: явно, выбрав пункт меню
\fBformat paragraph\fR, или установив \fIee\fR на автоматическое
форматирование абзацев. Автоматический режим может быть установлен через меню или через файл
инициализации.
.PP
В \fIee\fR существует три состояния для работы с текстом: свободный формат, поля
и автоматическое форматирование.
.PP
ограничений на длину строк нет, и форматирование не выполняется.
.PP
за пределы правого поля (правое поле может быть установлено в меню \fBsettings\fR,
по умолчанию поле — это правый край терминала).
Это режим, который позволяет работать пункту меню \fBformat paragraph\fR.
.PP
Пользователь может вводить текст, а \fIee\fR будет следить, чтобы весь абзац помещался
в ширину терминала каждый раз, когда пользователь вставляет пробел после
ввода или удаления текста.
Наблюдение за полями также должно быть включено для автоматического форматирования.
.SS Режимы
.PP
Хотя ee является 'безмодальным' редактором (он всегда находится в режиме вставки текста),
существуют режимы в некоторых его действиях.
К ним относятся:
.RS 4
Табуляции могут вставляться как одиночный символ табуляции или заменяться пробелами.
Операция поиска может быть чувствительной к регистру символов или игнорировать регистр полностью.
Строки могут либо обрезаться по правому полю, либо продолжаться бесконечно.
При вводе текста редактор может пытаться сохранять его разумно в пределах ширины экрана.
Переключает, отображаются ли восьмибитные символы как их значение в угловых скобках
Окно, показывающее клавиатурные операции, которые можно выполнить, может
отображаться или нет.
Управляющим клавишам могут быть назначены привязки, подобные emacs, или нет.
Переключает, обрабатываются ли 16-битные символы как одно 16-битное значение или
два 8-битных значения. Это работает в основном с китайским набором кодов Big 5.
.RE
.PP
Вы можете установить эти режимы через файл инициализации (см. ниже) или с помощью
меню (см. выше).
.PP
Есть два способа проверить орфографию в тексте из \fIee\fR.
Один — с помощью традиционной команды \fIspell\fR(1), другой — с помощью
опциональной команды \fIispell\fR(1).
.PP
При использовании \fIspell\fR слова, которые не распознаются, будут помещены в начало
файла. Для опции \fIispell\fR файл записывается на диск,
затем запускается \fIispell\fR для файла, и файл снова читается после того, как
\fIispell\fR завершит внесение изменений в файл.
.PP
Пользователь может выбрать пункт меню, который печатает содержимое редактора.
.I ee
передает текст из редактора в команду, указанную инициализационной
командой
.B printcommand
(см. раздел
.B Инициализация ee из файла ниже).
.PP
Все, что пользователь назначит для
.B printcommand
, должно принимать ввод со стандартного ввода.
Обратитесь к системному администратору для получения дополнительной информации.
.PP
Команды оболочки могут выполняться из
.I ee
, выбрав пункт
.B shell command
в меню
.B miscellaneous
выполнить в
.B command:
запросе.
Кроме того, пользователь может направить содержимое буфера редактирования в
операцию оболочки (через канал), используя левую угловую скобку
Вывод операции оболочки также может быть направлен в
Их даже можно использовать вместе, чтобы отправить вывод в операцию оболочки и
прочитать результат обратно в редактор.
Таким образом, если редактор содержал список слов для сортировки, их можно было бы
отсортировать, введя следующее в запросе команды:
.RS 4
.sp
><!sort
.sp
.RE
Это отправило бы содержимое редактора для передачи в утилиту
.I sort
, и результат был бы помещен в буфер редактирования в текущем
месте курсора.
Старую информацию пользователю пришлось бы удалить самостоятельно.
.PP
Поскольку у разных пользователей разные предпочтения, \fIee\fR допускает некоторую
настраиваемость.
Существует три возможных места для файла инициализации ee:
файл \fI/usr/share/misc/init.ee\fR, файл \fI.init.ee\fR в
домашнем каталоге пользователя или файл \fI.init.ee\fR в текущем каталоге
(если он отличается от домашнего каталога).
Это позволяет системным администраторам установить некоторые предпочтения для пользователей на
системной основе (например, команду \fBprint\fR), а пользователю — настроить
параметры для определенных каталогов (например, один для переписки и
другой для программирования).
.PP
Файл \fI\/usr/share/misc/init.ee\fR читается первым, затем
\fI$HOME/.init.ee\fR, затем \fI.init.ee\fR, причем настройки, указанные в последнем
прочитанном файле, имеют приоритет.
.PP
В файле инициализации могут быть указаны следующие пункты:
.RS 4
.IP \fBcase\fR
Устанавливает чувствительность поиска к регистру.
.IP \fBnocase\fR
Устанавливает нечувствительность поиска к регистру (по умолчанию).
.IP \fBexpand\fR
Заставляет \fIee\fR преобразовывать табуляции в пробелы (по умолчанию).
.IP \fBnoexpand\fR
Заставляет \fIee\fR вставлять табуляции как одиночный символ.
.IP \fBinfo\fR
Небольшое информационное окно отображается в верхней части терминала (по умолчанию).
.IP \fBnoinfo\fR
Отключает отображение информационного окна.
.IP \fBmargins\fR
Заставляет \fIee\fR обрезать строки по правому полю, когда курсор выходит
за пределы правого поля, установленного пользователем, во время вставки текста (по умолчанию).
.IP \fBnomargins\fR
Позволяет строкам выходить за пределы правого поля.
.IP \fBautoformat\fR
Заставляет \fIee\fR автоматически пытаться форматировать текущий абзац во время
вставки текста.
.IP \fBnoautoformat\fR
Отключает автоматическое форматирование абзацев (по умолчанию).
.IP \fBprintcommand\fR
.IP \fBrightmargin\fR
Пользователь может выбрать значение для правого поля (первый столбец на экране равен нулю).
.IP \fBhighlight\fR
Включает выделение границы информационного окна и меню (по умолчанию).
.IP \fBnohighlight\fR
Отключает выделение границы информационного окна и меню.
.IP \fBeightbit\fR
Включает отображение восьмибитных символов.
.IP \fBnoeightbit\fR
Отключает отображение восьмибитных символов (они отображаются как их десятичное
.IP \fB16bit\fR
Включает обработку 16-битных символов.
.IP \fBno16bit\fR
Отключает обработку 16-битных символов.
.IP \fBemacs\fR
Включает привязки клавиш emacs.
.IP \fBnoemacs\fR
Отключает привязки клавиш emacs.
.RE
.PP
При использовании этой записи из меню
.B settings
пользователь может выбрать сохранение текущей конфигурации
редактора (см. \fBИнициализация ee из файла\fR выше) в файл с именем
.I .init.ee
в текущем каталоге или домашнем каталоге пользователя.
Если файл с именем
.I .init.ee
уже существует, он будет переименован в
.IR .init.ee.old .
.PРЕДОСТЕРЕЖЕНИЯ
.PP
НИКАКИХ ГАРАНТИЙ ЛЮБОГО РОДА ОТНОСИТЕЛЬНО ЭТОГО
МАТЕРИАЛА, ВКЛЮЧАЯ, НО НЕ ОГРАНИЧИВАЯСЬ,
ПОДРАЗУМЕВАЕМЫМИ ГАРАНТИЯМИ КОММЕРЧЕСКОЙ ПРИГОДНОСТИ И
ПРИГОДНОСТИ ДЛЯ ОПРЕДЕЛЕННОЙ ЦЕЛИ. Ни
Hewlett-Packard, ни Hugh Mahon не несут ответственности
за ошибки, содержащиеся здесь, ни за
случайные или косвенные убытки в
связи с предоставлением, выполнением или
использованием этого материала. Ни Hewlett-Packard,
ни Hugh Mahon не берут на себя ответственность за
использование или надежность этого программного обеспечения или
документации. Это программное обеспечение и
документация полностью НЕ ПОДДЕРЖИВАЕТСЯ. Не существует
доступного контракта на поддержку. Hewlett-Packard
НЕ проводил Контроль Качества над ЛЮБЫМ
из программы или документации. Вы можете найти
качество материалов низшим по сравнению с
поддерживаемыми материалами.
.PP
Всегда делайте копию файлов, которые не могут быть легко восстановлены, перед
редактированием. Сохраняйте файлы рано и сохраняйте часто.
.I ee
поддерживает однобайтовые наборы символов (восьмибитные чистые) или
китайский набор кодов Big-5.
(Другие многобайтовые наборы кодов могут работать, но причина, по которой Big-5 работает, заключается в том,
что двухбайтовый символ также занимает два столбца на экране.)
.ПРЕДУПРЕЖДЕНИЯ
Операция автоматического форматирования абзацев может быть слишком медленной для
медленных систем.
.ФАЙЛЫ
.PP
.I /usr/share/misc/init.ee
.br
.I $HOME/.init.ee
.br
.I .init.ee
.АВТОРЫ
.PP
Программное обеспечение
.I ee
было разработано Hugh Mahon.
.PP
Это программное обеспечение и документация содержат
проприетарную информацию, которая защищена
авторским правом. Все права защищены.
.PP
Copyright (c) 1990, 1991, 1992, 1993, 1995, 1996, 2001 Hugh Mahon.
.PP
termcap(4), terminfo(4), environ(5), spell(1), ispell(1), lp(1), aee(1)
