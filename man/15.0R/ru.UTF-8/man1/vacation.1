.\" Copyright (c) 1999-2002 Proofpoint, Inc. and its suppliers.
.\"	All rights reserved.
.\" Copyright (c) 1985, 1987, 1990, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\"
.\" By using this file, you agree to the terms and conditions set
.\" forth in the LICENSE file which can be found at the top level of
.\" the sendmail distribution.
.\"
.\"
.\"	$Id: vacation.1,v 8.35 2013-11-22 20:52:02 ca Exp $
.\"
.\" FRDP path ./contrib/sendmail/vacation/vacation.1
.\" FRDP githash d39bd2c1388b520fcba9abed1932acacead60fba
.\" FRDP hash256 bb2dc0228a64865ed593641eab6ef82e282559e858878226cfa91c85eadbcfd8
.ИМЯ
vacation
\- автоответчик для электронной почты
.СИНТАКСИС
.B vacation
.RB [ \-a
.IR псевдоним ]
.RB [ \-C
.IR файл_конфигурации ]
.RB [ \-d ]
.RB [ \-f
.IR база_данных ]
.RB [ \-i ]
.RB [ \-I ]
.RB [ \-j ]
.RB [ \-l ]
.RB [ \-m
.IR сообщение ]
.RB [ \-R
.IR адрес_возврата ]
.RB [ \-r
.IR интервал ]
.RB [ \-s
.IR адрес ]
.RB [ \-t
.IR время ]
.RB [ \-U ]
.RB [ \-x ]
.RB [ \-z ]
.I логин
.ОПИСАНИЕ
.B Vacation
возвращает отправителю сообщение,
по умолчанию из файла
.IR ~/.vacation.msg ,
информируя его о том, что вы в данный момент не читаете свою почту.
Сообщение отправляется каждому отправителю только один раз за указанный интервал ответа (см.
.B \-r
ниже).
Предполагается использование в файле
.I .forward
. Например, ваш файл
.I .forward
может содержать:
.IP
\eeric, "|/usr/bin/vacation eric"
.PP
что будет отправлять сообщения вам (предполагая, что ваше имя для входа — eric) и
отвечать на любые сообщения для
``eric''
или
``allman''.
.PP
Доступные опции:
.TP
.BI \-a " псевдоним"
Обрабатывать сообщения для
.I псевдонима
так же, как и сообщения, полученные для имени входа пользователя.
.TP
.BI \-C " файл_конфигурации"
Указать путь к файлу конфигурации sendmail.
Эта опция игнорируется, если указана
.B \-U
.
По умолчанию используется стандартный файл конфигурации sendmail,
обычно расположенный по адресу /etc/mail/sendmail.cf.
.TP
.B \-d
Отправлять сообщения об ошибках/отладке в stderr вместо syslog.
В противном случае критические ошибки, такие как вызов
.B vacation
с неверными аргументами или с несуществующими
.IR логинами ,
регистрируются в системном журнале с помощью
syslog(8).
Эту опцию следует использовать только в командной строке, а не в вашем
.I .forward
файле.
.TP
.BI \-f " файл"
Использовать
.I файл
в качестве имени базы данных вместо
.IR ~/.vacation.db
или
.IR ~/.vacation.{dir,pag} .
Если
.I файл
не начинается с /, путь считается относительно ~.
.TP
.B \-i
Инициализировать файлы базы данных vacation. Следует использовать
перед изменением вашего
.I .forward
файла.
Эту опцию следует использовать только в командной строке, а не в вашем
.I .forward
файле.
.TP
.B \-I
То же, что и
.B \-i
(для обратной совместимости).
Эту опцию следует использовать только в командной строке, а не в вашем
.I .forward
файле.
.TP
.B \-j
Отвечать на сообщение независимо от того, указан ли логин в списке
получателей сообщения.
Не используйте этот флаг, если вы не уверены в последствиях.
Например, это приведёт к тому, что
.B vacation
будет отвечать на сообщения списков рассылки, что может привести к вашему
удалению из списка.
.TP
.B \-l
Вывести содержимое файла базы данных vacation, включая адрес
и соответствующее время последнего автоответа на этот адрес.
Эту опцию следует использовать только в командной строке, а не в вашем
.I .forward
файле.
.TP
.BI \-m " файл"
Использовать
.I файл
в качестве имени файла, содержащего отправляемое сообщение, вместо
.IR ~/.vacation.msg .
Если
.I файл
не начинается с /, путь считается относительно ~.
.TP
.BI \-R " адрес_возврата"
Установить адрес отправителя в конверте ответа.
.TP
.BI \-r " интервал"
Установить интервал ответа в
.I интервал
дней. По умолчанию — одна неделя.
Интервал ``0'' или
``infinite''
(или любой нечисловой символ) означает, что более одного ответа
отправлено не будет.
Опцию
.B \-r
следует использовать только при инициализации базы данных vacation
(см.
.B \-i
выше).
.TP
.BI \-s " адрес"
Использовать
.I адрес
вместо адреса отправителя входящего сообщения в строке
.I From
в качестве получателя для ответа vacation.
.TP
.BI \-t " время"
Игнорируется, доступна только для совместимости с программой vacation от Sun.
.TP
.B \-U
Не пытаться искать
.I логин
в файле паролей.
Должны быть использованы опции -f и -m для указания файлов базы данных и сообщения,
так как домашний каталог для настроек по умолчанию этих опций отсутствует.
.TP
.B \-x
Читать список исключений из stdin (по одному адресу на строку).
Письма, пришедшие с адреса
из этого списка исключений, не получат ответа от
.BR vacation .
Можно исключать целые домены, указывая
``@домен''
как элемент списка исключений.
Эту опцию следует использовать только в командной строке, а не в вашем
.I .forward
файле.
.TP
.B \-z
Установить отправителя ответа vacation в
``<>''
вместо имени пользователя.
Возможно, это нарушает RFC, поскольку ответы от vacation
не требуются стандартным RFC и не должны иметь обратный путь null.
.PP
.B Vacation
читает первую строку стандартного ввода в поисках строки
UNIX
``From''
для определения отправителя.
Sendmail(8)
включает эту строку
``From''
автоматически.
Также сканируются заголовки в поисках заголовка
``Return-Path:''
для определения отправителя.
Если присутствуют оба, используется отправитель из заголовка
``Return-Path:''
.
.PP
Сообщение не будет отправлено, если
.I логин
(или
.I псевдоним
, указанный с помощью опции
.B \-a
) не является частью заголовков
``To:''
или
``Cc:''
письма.
Не будет ответов на сообщения от
``???-REQUEST'',
``???-RELAY'',
``???-OWNER'',
``OWNER-???'',
``Postmaster'',
``UUCP'',
``MAILER'',
или
``MAILER-DAEMON''
(где эти строки нечувствительны к регистру), а также уведомление не будет отправлено, если в заголовках письма присутствует строка
``Precedence: bulk'',
``Precedence: list'',
или
``Precedence: junk''
.
Аналогично, ответ не будет отправлен, если заголовки содержат заголовок
``Auto-Submitted:''
со значением, отличным от
``no''
, или найден заголовок
``List-Id:''
.
Адреса отправителей, которые вам писали, поддерживаются в виде базы данных
db(3)
или
dbm(3)
в файле
.I .vacation.db
или
.I .vacation.{dir,pag}
в вашем домашнем каталоге.
.PP
.B Vacation
ожидает файл
.IR .vacation.msg ,
в вашем домашнем каталоге, содержащий сообщение для отправки каждому
отправителю. Это должно быть целое сообщение (включая заголовки). Например, оно может содержать:
.IP
.nf
From: eric@CS.Berkeley.EDU (Eric Allman)
Subject: I am on vacation
Delivered-By-The-Graces-Of: The Vacation program
Precedence: bulk

Я в отпуске до 22 июля. Если у вас есть что-то срочное,
пожалуйста, свяжитесь с Кейтом Бостиком <bostic@CS.Berkeley.EDU>.
--eric
.fi
.PP
Любое вхождение строки
``$SUBJECT''
в файле
.IR .vacation.msg
будет заменено на первую строку темы сообщения,
которое вызвало программу
.B vacation
.
.ФАЙЛЫ
.TP 1.8i
~/.vacation.db
база данных по умолчанию для db(3)
.TP 1.8i
~/.vacation.{dir,pag}
база данных по умолчанию для dbm(3)
.TP
~/.vacation.msg
сообщение для отправки по умолчанию
.СМ. ТАКЖЕ
sendmail(8),
syslog(8)
.ИСТОРИЯ
Команда
.B vacation
появилась в
4.3BSD.
