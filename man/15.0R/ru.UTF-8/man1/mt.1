.\" Copyright (c) 1981, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@(#)mt.1	8.1 (Berkeley) 6/6/93
.\"
.\" FRDP path ./usr.bin/mt/mt.1
.\" FRDP githash 452c3e9514cbaaced8997458e34bb07b51c29bc9
.\" FRDP hash256 abf1281752d2d552b0a1440e0c551f817ac19d94ae1b6cfa1244e7504572ea36
.Dd 31 октября 2023
.Dt MT 1
.Os
.Sh ИМЯ
.Nm mt
.Nd программа для управления магнитной лентой
.Sh СИНТАКСИС
.Nm
.Op Fl f Ar имя_ленты
.Ar команда
.Op Ar количество
.Nm
.Op Fl f Ar имя_ленты
.Ar команда
.Ar аргумент
.Sh ОПИСАНИЕ
Утилита
.Nm
используется для управления накопителем на магнитной ленте при операциях,
отличных от чтения или записи данных.
.Pp
Аргумент
.Ar имя_ленты
опции
.Fl f
переопределяет переменную окружения
.Ev TAPE,
описанную ниже.
.Pp
Доступные команды перечислены ниже.
Для указания команды достаточно указать только столько символов,
сколько требуется для её однозначной идентификации.
.Pp
Следующие команды могут дополнительно принимать аргумент
.Ar количество,
который по умолчанию равен 1.
.It Cm weof
Записать
.Ar количество
меток конца файла (EOF) в текущей позиции.
Возвращает управление после записи метки на носитель.
.It Cm weofi
Записать
.Ar количество
меток конца файла (EOF) в текущей позиции.
Возвращает управление сразу после проверки команды накопителем.
.It Cm smk
Записать
.Ar количество
установочных меток в текущей позиции (только для накопителей DDS).
.It Cm fsf
Переместиться вперёд на
.Ar количество
файлов.
.It Cm fsr
Переместиться вперёд на
.Ar количество
записей.
.It Cm fss
Переместиться вперёд на
.Ar количество
установочных меток (только для накопителей DDS).
.It Cm bsf
Переместиться назад на
.Ar количество
файлов.
.It Cm bsr
Переместиться назад на
.Ar количество
записей.
.It Cm bss
Переместиться назад на
.Ar количество
установочных меток (только для накопителей DDS).
.It Cm erase
Стереть ленту длинным (часто очень долгим) методом.
При
.Ar количестве
0, лента будет стёрта быстрым методом.
Операция не гарантирована, если лента не в начале.
После завершения лента будет в начале.
.El
.Pp
Следующие команды игнорируют аргумент
.Ar количество .
.It Cm rdhpos
Прочитать аппаратную позицию блока.
Номер блока специфичен только для данного оборудования.
Особенно при аппаратном сжатии данных,
эта позиция может больше зависеть от объёма данных,
отправленных накопителю, чем от объёма данных, записанных на ленту.
Некоторые накопители это не поддерживают.
.It Cm rdspos
Прочитать логическую позицию блока SCSI.
Обычно она больше аппаратной позиции
на количество меток конца файла.
Некоторые накопители это не поддерживают.
.It Cm rewind
Перемотать ленту в начало.
.It Cm offline , rewoffl
Перемотать ленту в начало и перевести накопитель в автономный режим.
Некоторые накопители никогда не бывают автономными.
.It Cm load
Загрузить ленту в накопитель.
.It Cm retension
Перетянуть ленту.
При этом лента перематывается от текущей позиции до конца,
а затем до начала.
Это иногда улучшает последующее чтение и запись,
особенно для потоковых накопителей.
Некоторые накопители это не поддерживают.
.It Cm ostatus
Вывести информацию о состоянии накопителя.
Для устройств SCSI с магнитной лентой
выводится информация о текущих режимах плотности, размера блока и включено ли сжатие.
Выводится текущее состояние драйвера (что он, по его мнению,
делает с устройством).
Если драйвер знает относительную
позицию от начала ленты (в терминах меток файлов и записей), он выводит её.
Заметим,
что эта информация не является окончательной (только начало ленты, конец записанных данных и
аппаратная или логическая позиция блока SCSI (если накопитель поддерживает такое)
считаются окончательными позициями на ленте).
.Pp
Также обратите внимание, что это старая команда статуса, и она будет удалена в
пользу новой команды статуса (см. ниже) в будущем выпуске.
.It Cm errstat
Вывести (и очистить) информацию об ошибках для этого устройства.
Для каждой нормальной
операции (например, чтения или записи) и каждой управляющей операции (например,
перемотки), драйвер сохраняет информацию о последней выполненной команде и связанном с ней
статусе и любых остаточных счётчиках (если есть).
Эта команда извлекает и выводит эту
информацию.
Если возможно, также очищает любую зафиксированную информацию об ошибках.
.It Cm geteotmodel
Вывести текущую модель метки конца ленты (EOT).
Модель определяет, сколько
меток файлов будет записано при закрытии, если велась запись на ленту.
.It Cm eod , eom
Перемотать ленту к концу записанных данных,
обычно после метки EOF, где может быть записан следующий файл.
.It Cm rblim
Вывести ограничения блока для накопителя на магнитной ленте, включая минимальный и
максимальный размер блока, и гранулярность блока, если она есть.
.El
.Pp
Следующие команды могут требовать аргумент
.Ar аргумент .
.It Cm sethpos
Установить аппаратную позицию блока.
.Ar Аргумент
— это аппаратный номер блока, на который нужно позиционировать ленту.
Некоторые накопители это не поддерживают.
.It Cm setspos
Установить логическую позицию блока SCSI.
.Ar Аргумент
— это логический номер блока SCSI, на который нужно позиционировать ленту.
Некоторые накопители это не поддерживают.
.It Cm blocksize
Установить размер блока для накопителя.
.Ar Аргумент
— это количество байт на блок,
кроме 0, что указывает накопителю использовать блоки переменной длины.
.It Cm seteotmodel
Установить модель метки конца ленты (EOT) в
.Ar аргумент
и вывести старую и новую модели.
Обычно это будет 2
метки файла, но некоторые устройства (обычно накопители на картриджах QIC) могут
записывать только 1 метку файла.
Можно выбрать только значение
.Ar 1
или
.Ar 2 .
.It Cm status
Вывести информацию о состоянии накопителя.
Для устройств SCSI с магнитной лентой
выводится информация о текущих режимах плотности, размера блока и включено ли сжатие.
Выводится текущее состояние драйвера (что он, по его мнению,
делает с устройством).
.Pp
Если драйвер знает относительную
позицию от начала ленты (в терминах меток файлов и записей), он выводит её.
Если накопитель на магнитной ленте поддерживает расширенную форму отчёта команды
.Tn SCSI
READ POSITION, то Отчётный Номер Файла и Отчётный Номер Записи
будут числами, отличными от -1, и также могут быть выведены Флаги.
.Pp
Флаг BOP означает, что логическая позиция накопителя находится в
начале раздела.
.Pp
Флаг EOP означает, что логическая позиция накопителя находится между Ранним
Предупреждением и Концом Раздела.
.Pp
Флаг BPEW означает, что логическая позиция накопителя находится в
Зоне Программируемого Раннего Предупреждения или на стороне EOP от Раннего Предупреждения.
.Pp
Обратите внимание, что Отчётный Номер Записи — это номер блока или объекта на ленте
относительно начала раздела.
Вычисленный Номер Записи — это номер блока или объекта на ленте
относительно предыдущей метки файла.
.Pp
Обратите внимание,
что Вычисленные Номера Файлов и Записей не являются окончательными.
Отчётные Номера Файлов и Записей являются окончательными, если это числа,
отличные от -1.
.Bl -tag -width 6n
.It Fl v
Вывести дополнительную информацию о состоянии, такую как максимальный поддерживаемый размер
ввода-вывода.
.It Fl x
Вывести все доступные данные состояния в формате XML в stdout.
.El
.It Cm getdensity
Вывести информацию о поддержке плотностей для накопителя на магнитной ленте и любого загруженного носителя.
Большинство накопителей выводит по крайней мере базовую информацию о плотности, аналогичную той,
что выводится командой
.Nm status .
Новые накопители на магнитной ленте, соответствующие спецификациям T-10 SSC и новым спецификациям лент,
могут выводить более подробную информацию о типах
лент, которые они поддерживают, и о ленте, находящейся в данный момент в накопителе.
.Bl -tag -width 6n
.It Fl x
Вывести все доступные данные о плотности в формате XML в stdout.
Поскольку информация о плотности в настоящее время включена в общий отчёт XML
используемый для команды
.Nm
status, это будет тот же вывод XML, что и
.Do
.Nm
status
.Fl x
.Dc
.El
.It Cm param
Показать или установить параметры.
Один из флагов
.Fl l ,
.Fl s ,
или
.Fl x
должен быть указан для обозначения операции.
См.
.Xr sa 4
для более подробной информации о параметрах.
.Bl -tag -width 8n
.It Fl l
Вывести список параметров, их значений и описаний.
По умолчанию будут показаны все параметры.
Для отображения конкретного параметра укажите параметр с помощью
.Fl p .
.It Fl p Ar имя
Указать имя параметра для вывода списка (с
.Fl l )
или установки (с
.Fl s ) .
.It Fl q
Включить тихий режим для вывода списка параметров.
Это подавит вывод описаний параметров.
.It Fl s Ar значение
Указать значение параметра для установки.
Общий тип этого аргумента (целое число, целое без знака, строка)
определяется типом переменной, указанной в драйвере
.Xr sa 4 .
Более подробная проверка аргумента выполняется драйвером
.Xr sa 4 .
.It Fl x
Вывести всю информацию о параметрах в формате XML.
.El
.It Cm protect
Показать или установить параметры защиты накопителя.
Используется для управления проверкой и отчётом о контрольной сумме на блок
для накопителей на магнитной ленте, которые это поддерживают.
Некоторые накопители могут поддерживать только некоторые параметры.
.Bl -tag -width 8n
.It Fl b Ar 0|1
Установить бит Recover Buffered Data Protected.
Если установлен, это указывает, что контрольные суммы передаются с логическими
блоками, переданными командой RECOVERED BUFFERED DATA
.Tn SCSI .
.It Fl d
Отключить все настройки информации о защите.
.It Fl e
Включить все настройки информации о защите.
Используемый метод защиты по умолчанию — CRC Рида-Соломона (метод защиты
1), как указано в ECMA-319.
Используемая по умолчанию длина информации о защите с CRC Рида-Соломона составляет
4 байта.
Чтобы включить все настройки, кроме одной, укажите
аргумент
.Fl e
, а затем явно отключите настройки, которые не хотите
включать.
Например, указание
.Fl e
.Fl w Ar 0
включит все настройки, кроме LBP_W.
.It Fl l
Вывести список доступных параметров защиты и их текущих значений.
.It Fl L Ar длина
Установить длину информации о защите в байтах.
Для CRC Рида-Соломона длина информации о защите должна быть 4 байта.
.It Fl m Ar номер
Указать числовое значение для метода защиты.
Числовое значение для CRC Рида-Соломона — 1.
.It Fl r Ar 0|1
Установить параметр LBP_R.
При установке указывает, что каждый блок, прочитанный с накопителя на магнитной ленте,
будет иметь контрольную сумму в конце.
.It Fl v
Включить подробный режим для вывода списка параметров.
Это будет включать описания каждого параметра.
.It Fl w Ar 0|1
Установить параметр LBP_W.
При установке указывает, что каждый блок, записываемый на накопитель на магнитной ленте, будет иметь
контрольную сумму в конце.
Накопитель проверит контрольную сумму перед записью блока на ленту.
.El
.It Cm locate
Установить логическую позицию накопителя на магнитной ленте.
Один из флагов
.Fl b ,
.Fl e ,
.Fl f ,
или
.Fl s
должен быть указан для обозначения типа позиции.
Если указан номер раздела, накопитель сначала переместится в указанный раздел (если он существует), а затем
в указанную позицию внутри
этого раздела.
Если номер раздела не указан, накопитель переместится в
указанную позицию в текущем разделе.
.Bl -tag -width 14n
.It Fl b Ar адрес_блока
Переместиться к указанному блоку ленты или логическому идентификатору объекта.
Обратите внимание, что номер блока — это Отчётный Номер Записи, который отсчитывается
от начала раздела (или начала ленты).
.It Fl e
Переместиться к концу данных.
.It Fl f Ar номер_файла
Переместиться к указанному номеру файла.
.It Fl p Ar раздел
Указать раздел для перехода.
.It Fl s Ar установочная_метка
Переместиться к указанной установочной метке.
.El
.It Cm comp
Установить режим сжатия накопителя.
Нечисловые значения
.Ar аргумента
таковы:
.Pp
.Bl -tag -width 9n -compact
.It off
Выключить сжатие.
.It on
Включить сжатие.
.It none
То же, что
.Ar off .
.It enable
То же, что
.Ar on .
.It IDRC
Сжатие IBM Improved Data Recording Capability (0x10).
.It DCLZ
Алгоритм сжатия DCLZ (0x20).
.El
.Pp
В дополнение к указанным выше ключевым словам сжатия, пользователь может
предоставить числовой алгоритм сжатия для использования накопителем.
В большинстве
случаев простое включение сжатия
.Sq on
даст желаемый эффект включения алгоритма сжатия по умолчанию,
поддерживаемого накопителем.
Если это не так (см. отображение
.Cm status
, чтобы увидеть, какой алгоритм сжатия используется в настоящее время), пользователь
может вручную указать одно из поддерживаемых ключевых слов сжатия (выше) или
предоставить числовое значение сжатия из спецификаций накопителя.
.Pp
Обратите внимание, что для некоторых старых накопителей на магнитной ленте (например, Exabyte 8200 и 8500
серий) необходимо переключиться на другую плотность, чтобы сообщить накопителю
записывать данные в сжатом формате.
Если пользователь попытается включить сжатие, пока выбрана несжатая плотность,
накопитель вернёт ошибку.
Обычно это не проблема для современных накопителей на магнитной ленте.
.It Cm density
Установить плотность для накопителя.
Для кодов плотности см. ниже.
Значение плотности может быть задано как численно, так и строкой,
соответствующей полю
.Dq Reference .
Если строка сокращена, она будет разрешена в порядке,
показанном в таблице, и будет использована первая подходящая запись.
Если
заданная строка и результирующее каноническое имя плотности не совпадают
точно, выводится информационное сообщение о том, за что была принята
заданная строка.
.El
.Pp
Первоначальная версия таблицы плотностей ниже была взята из
таблицы
.Sq Historical sequential access density codes
(А-1) в редакции 11 рабочего проекта команд SCSI-3 Stream Device Commands (SSC)
от 11 ноября 1997 года.
Последующие дополнения поступили из нескольких источников.
.Pp
Коды плотности:
.Bd -literal -offset 2n
0x0    по умолчанию для устройства
0xE    зарезервировано для ECMA

Значение Ширина        Дорожки  Плотность         Тип Кода Ссылка      Примечание
        мм    дюйм               bpmm       bpi
0x01   12.7  (0.5)    9         32     (800)  NRZI  R   X3.22-1983   2
0x02   12.7  (0.5)    9         63   (1,600)  PE    R   X3.39-1986   2
0x03   12.7  (0.5)    9        246   (6,250)  GCR   R   X3.54-1986   2
0x05    6.3  (0.25)  4/9       315   (8,000)  GCR   C   X3.136-1986  1,3
0x06   12.7  (0.5)    9        126   (3,200)  PE    R   X3.157-1987  2
0x07    6.3  (0.25)   4        252   (6,400)  IMFM  C   X3.116-1986  1
0x08    3.81 (0.15)   4        315   (8,000)  GCR   CS  X3.158-1987  1
0x09   12.7  (0.5)   18      1,491  (37,871)  GCR   C   X3.180       2
0x0A   12.7  (0.5)   22        262   (6,667)  MFM   C   X3B5/86-199  1
0x0B    6.3  (0.25)   4         63   (1,600)  PE    C   X3.56-1986   1
0x0C   12.7  (0.5)   24        500  (12,690)  GCR   C   HI-TC1       1,6
0x0D   12.7  (0.5)   24        999  (25,380)  GCR   C   HI-TC2       1,6
0x0F    6.3  (0.25)  15        394  (10,000)  GCR   C   QIC-120      1,6
0x10    6.3  (0.25)  18        394  (10,000)  GCR   C   QIC-150      1,6
0x11    6.3  (0.25)  26        630  (16,000)  GCR   C   QIC-320      1,6
0x12    6.3  (0.25)  30      2,034  (51,667)  RLL   C   QIC-1350     1,6
0x13    3.81 (0.15)   1      2,400  (61,000)  DDS   CS  X3B5/88-185A 5
0x14    8.0  (0.315)  1      1,703  (43,245)  RLL   CS  X3.202-1991  5,11
0x15    8.0  (0.315)  1      1,789  (45,434)  RLL   CS  ECMA TC17    5,12
0x16   12.7  (0.5)   48        394  (10,000)  MFM   C   X3.193-1990  1
0x17   12.7  (0.5)   48      1,673  (42,500)  MFM   C   X3B5/91-174  1
0x18   12.7  (0.5)  112      1,673  (42,500)  MFM   C   X3B5/92-50   1
0x19   12.7  (0.5)  128      2,460  (62,500)  RLL   C   DLTapeIII    6,7
0x1A   12.7  (0.5)  128      3,214  (81,633)  RLL   C   DLTapeIV(20) 6,7
0x1B   12.7  (0.5)  208      3,383  (85,937)  RLL   C   DLTapeIV(35) 6,7
0x1C    6.3  (0.25)  34      1,654  (42,000)  MFM   C   QIC-385M     1,6
0x1D    6.3  (0.25)  32      1,512  (38,400)  GCR   C   QIC-410M     1,6
0x1E    6.3  (0.25)  30      1,385  (36,000)  GCR   C   QIC-1000C    1,6
0x1F    6.3  (0.25)  30      2,666  (67,733)  RLL   C   QIC-2100C    1,6
0x20    6.3  (0.25) 144      2,666  (67,733)  RLL   C   QIC-6GB(M)   1,6
0x21    6.3  (0.25) 144      2,666  (67,733)  RLL   C   QIC-20GB(C)  1,6
0x22    6.3  (0.25)  42      1,600  (40,640)  GCR   C   QIC-2GB(C)   ?
0x23    6.3  (0.25)  38      2,666  (67,733)  RLL   C   QIC-875M     ?
0x24    3.81 (0.15)   1      2,400  (61,000)        CS  DDS-2        5
0x25    3.81 (0.15)   1      3,816  (97,000)        CS  DDS-3        5
0x26    3.81 (0.15)   1      3,816  (97,000)        CS  DDS-4        5
0x27    8.0  (0.315)  1      3,056  (77,611)  RLL   CS  Mammoth      5
0x28   12.7  (0.5)   36      1,491  (37,871)  GCR   C   X3.224       1
0x29   12.7  (0.5)
0x2A
0x2B   12.7  (0.5)    3          ?        ?     ?   C   X3.267       5
0x40   12.7  (0.5)  384      4,800  (123,952)       C   LTO-1
0x41   12.7  (0.5)  208      3,868  (98,250)  RLL   C   DLTapeIV(40) 6,7
0x42   12.7  (0.5)  512      7,398  (187,909)       C   LTO-2
0x44   12.7  (0.5)  704      9,638  (244,805)       C   LTO-3
0x46   12.7  (0.5)  896      12,725 (323,215)       C   LTO-4
0x47    3.81 (0.25)   ?      6,417  (163,000)       CS  DAT-72
0x48   12.7  (0.5)  448      5,236  (133,000) PRML  C   SDLTapeI(110) 6,8,13
0x49   12.7  (0.5)  448      7,598  (193,000) PRML  C   SDLTapeI(160) 6,8
0x4A   12.7  (0.5)  768          ?            PRML  C   T10000A      10
0x4B   12.7  (0.5) 1152          ?            PRML  C   T10000B      10
0x4C   12.7  (0.5) 3584          ?            PRML  C   T10000C      10
0x4D   12.7  (0.5) 4608          ?            PRML  C   T10000D      10
0x51   12.7  (0.5)  512      11,800 (299,720)       C   3592A1 (без шифрования)
0x52   12.7  (0.5)  896      11,800 (299,720)       C   3592A2 (без шифрования)
0x53   12.7  (0.5) 1152      13,452 (341,681)       C   3592A3 (без шифрования)
0x54   12.7  (0.5) 2560      19,686 (500,024)       C   3592A4 (без шифрования)
0x55   12.7  (0.5) 5120      20,670 (525,018)       C   3592A5 (без шифрования)
0x56   12.7  (0.5) 7680      20,670 (525,018)       C   3592B5 (без шифрования)
0x57   12.7  (0.5) 8704      21,850 (554,990)       C   3592A6 (без шифрования)
0x58   12.7  (0.5) 1280      15,142 (384,607)       C   LTO-5
0x59   12.7  (0.5)18944      21,850 (554,990)       C   3592A7 (без шифрования)
0x5A   12.7  (0.5) 2176      15,142 (384,607)       C   LTO-6
0x5C   12.7  (0.5) 3584      19,107 (485,318)       C   LTO-7
0x5D   12.7  (0.5) 5376      19,107 (485,318)       C   LTO-M8       14
0x5E   12.7  (0.5) 6656      20,669 (524,993)       C   LTO-8
0x60   12.7  (0.5) 8960      23,031 (584,987)       C   LTO-9
0x71   12.7  (0.5)  512      11,800 (299,720)       C   3592A1 (с шифрованием)
0x72   12.7  (0.5)  896      11,800 (299,720)       C   3592A2 (с шифрованием)
0x73   12.7  (0.5) 1152      13,452 (341,681)       C   3592A3 (с шифрованием)
0x74   12.7  (0.5) 2560      19,686 (500,024)       C   3592A4 (с шифрованием)
0x75   12.7  (0.5) 5120      20,670 (525,018)       C   3592A5 (с шифрованием)
0x76   12.7  (0.5) 7680      20,670 (525,018)       C   3592B5 (с шифрованием)
0x77   12.7  (0.5) 8704      21,850 (554,990)       C   3592A6 (с шифрованием)
0x79   12.7  (0.5)18944      21,850 (554,990)       C   3592A7 (с шифрованием)
0x8c    8.0  (0.315)  1      1,789  (45,434)  RLL   CS  EXB-8500c    5,9
0x90    8.0  (0.315)  1      1,703  (43,245)  RLL   CS  EXB-8200c    5,9
.Ed
.Bd -literal -offset 2n
Код    Описание                                Тип   Описание
----    --------------------------------------     ---- -----------
NRZI    Non return to zero, change on ones         R    Катушка на катушку
GCR     Group code recording                       C    Картридж
PE      Phase encoded                              CS   Кассета
IMFM    Inverted modified frequency modulation
MFM     Modified frequency modulation
DDS     DAT data storage
RLL     Run length limited
PRML    Partial Response Maximum Likelihood
.Ed
.Bd -literal -offset 2n
ПРИМЕЧАНИЯ
1.  Последовательная запись.
2.  Параллельная запись.
3.  Старый формат, известный как QIC-11.
5.  Спиральная развёртка.
6.  Это не американский национальный стандарт. Ссылка основана
    на отраслевом стандартном определении формата носителя.
7.  Запись DLT: последовательно записанные пары дорожек (DLTapeIII и
    DLTapeIV(20)) или четверки дорожек (DLTapeIV(35) и DLTapeIV(40)).
8.  Запись Super DLT (SDLT): 56 последовательно записанных логических дорожек
    по 8 физических дорожек каждая.
9.  Специфичный для производителя Exabyte код плотности для сжатого формата.
10. Значения bpi/bpmm для накопителей на магнитной ленте Oracle/StorageTek T10000
    не указаны в руководстве. Кто-то с доступом к накопителю может
    предоставить необходимые значения, выполнив 'mt getdensity'.
11. Это несжатый формат Exabyte 8200. Код плотности сжатого формата
    — 0x90.
12. Это несжатый формат Exabyte 8500. Код плотности сжатого формата
    — 0x8c.
13. Этот код плотности (0x48) также использовался для DAT-160.
14. Официально известен как LTO-8 Type M, сокращённо M8. Это чистая
    кассета LTO-7, инициализированная с более высокой плотностью накопителем LTO-8.
    Она не может быть прочитана накопителем LTO-7. Несжатая ёмкость
    составляет 9 ТБ, по сравнению с 6 ТБ для LTO-7 и 12 ТБ для LTO-8.
.Ed
.Bd -literal -offset 2n
ПРИМЕЧАНИЕ О СТРИМЕРАХ QIC

Ниже приведена таблица типов картриджей с данными, используемых в накопителях на магнитной ленте 1/4 дюйма,
таких как Archive Viper 150, Wangtek 5525ES и Tandberg
TDC4220:

Значение Ссылка        Формат    Тип картриджа    Ёмкость   Дорожки  Длина
----- ---------        ------    --------------    --------   ------  ------

0x05                QIC-11    DC300           15МБ       4        300фт
0x05                QIC-11    DC300XL/P       20МБ       4        450фт
0x05                QIC-11    DC600           27МБ       4        600фт
0x05  X3.136-1986   QIC-24    DC615A          15МБ       9        150фт
0x05  X3.136-1986   QIC-24    DC300XL/P       45МБ       9        450фт
0x05  X3.136-1986   QIC-24    DC600A          60МБ       9        600фт
0x0F  QIC-120       QIC-120   DC600A/DC6150   120МБ      15       620фт
0x10  QIC-150       QIC-150   DC600XTD/DC6150 150МБ      18       620фт
0x10  QIC-150       QIC-150   DC6250          250МБ      18     1,020фт
0x11  QIC-320       QIC-525   DC6320          320МБ      26       620фт
0x11  QIC-320       QIC-525   DC6525          525МБ      26     1,020фт
0x1E  QIC-1000C     QIC-1000  DC9100/DL9135   1.0ГБ      30       760фт
0x1E  QIC-1000C     QIC-1000  DC9150          1.2ГБ      30       950фт
0x22  QIC-2GB(C)    QIC-2GB   DC9200          2.0ГБ      42       950фт
0x22  QIC-2GB(C)    QIC-2GB   DC9250          2.5ГБ      42     1,200фт
.Ed
.Pp
Примечания:
.Pp
QIC-24, QIC-120, QIC-150 используют фиксированный размер блока 512 байт, QIC-525, QIC-1000
и QIC-2GB могут использовать размер блока 1 024 байта.
Накопители DDS (DAT) обычно используют переменные блоки.
.Pp
QIC-02 и QIC-36 — это стандарты интерфейса для накопителей на магнитной ленте.
Стримеры QIC-02 и QIC-36, такие как Wangtek 5250EQ, в остальном
идентичны своим SCSI-версиям (т.е.: Wangtek 5250ES).
.Pp
Похоже, что стримеры на 150 МБ и более не могут записывать форматы QIC-24 с 9 дорожками,
только читать их.
.Pp
и формат QIC-120.
Картриджи DC600A, помеченные как 12 500 фт/дюйм, могут использоваться как в формате QIC-120, так и в QIC-150.
.Pp
Verbatim использует DL, Maxell использует MC, Sony использует QD, Quill использует DQ.
.Pp
3M/Imation & Fuji используют DC.
Таким образом, DL6250, MC-6250, QD6250, DQ6250 — это идентичные носители DC6250.
.Pp
если на накопителе есть пыль, покрывающая световой датчик, который ищет
отверстия конца ленты в носителе.
.Sh ОКРУЖЕНИЕ
.It Ev TAPE
Это путь к накопителю на магнитной ленте.
Значение по умолчанию (если переменная не установлена, но не если она пуста) —
.Pa /dev/nsa0 .
Может быть переопределено с помощью опции
.Fl f .
.El
.Sh ФАЙЛЫ
.It Pa /dev/*sa[0-9]*
Интерфейс SCSI накопителя на магнитной ленте
.El
.Sh ДИАГНОСТИКА
Код выхода будет 0, если операции с накопителем прошли успешно,
2, если операции с накопителем не удались, и 1 для других
проблем, таких как нераспознанная команда или отсутствующее устройство накопителя.
.Sh СОВМЕСТИМОСТЬ
Некоторые недокументированные команды поддерживают старое программное обеспечение.
.Sh СМ. ТАКЖЕ
.Xr dd 1 ,
.Xr ioctl 2 ,
.Xr mtio 4 ,
.Xr sa 4 ,
.Xr environ 7
.Sh ИСТОРИЯ
Команда
.Nm
появилась в
.Bx 4.3 .
.Pp
Расширения, касающиеся драйвера
.Xr st 4 ,
появились в
.Bx 386 0.1
в виде отдельной команды
.Nm st
и были объединены в команду
.Nm
в
.Fx 2.1 .
.Pp
Ранее существовавшая команда
.Cm eof ,
которая была синонимом
.Cm weof ,
была удалена в
.Fx 2.1
, так как её часто путали с
.Cm eom ,
что довольно опасно.
.Sh ИЗВЕСТНЫЕ ОШИБКИ
Утилиту нельзя прервать или завершить во время длинного стирания
(которое может длиться более часа), и легко забыть,
что стирание по умолчанию длинное.
.Pp
Аппаратные номера блоков не всегда соответствуют блокам на ленте,
когда накопитель использует внутреннее сжатие.
.Pp
Стирание не гарантировано, если лента не в начале.
.Pp
Документация по работе с лентами скудна, как здесь, так и в других местах.
