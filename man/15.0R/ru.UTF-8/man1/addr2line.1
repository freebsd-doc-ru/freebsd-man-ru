.\" Copyright (c) 2009,2010 Joseph Koshy <jkoshy@users.sourceforge.net>
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer
.\"    in this position and unchanged.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.\" $Id: addr2line.1 3642 2018-10-14 14:24:28Z jkoshy $
.\"
.\" FRDP path ./contrib/elftoolchain/addr2line/addr2line.1
.\" FRDP githash ae500c1ff8974130f7f2692772cf288b90349e0d
.\" FRDP hash256 0339e06a503b4f31c1f5ad8c06b35d2ade2ea63a5291ac7f75efd70a5f903921
.Dd 30 ноября 2015
.Dt ADDR2LINE 1
.Os
.ИМЯ
.Nm addr2line
.Nd преобразование адресов программы в имена исходных файлов и номера строк
.СИНТАКСИС
.Nm
.Op Fl a | Fl -addresses
.Op Fl b Ar цель | Fl -target Ns = Ns Ar цель
.Op Fl e Ar путь | Fl -exe Ns = Ns Ar путь
.Op Fl f | Fl -functions
.Op Fl i | Fl -inlines
.Op Fl j Ar имя_секции | Fl -section Ns = Ns Ar имя_секции
.Op Fl p | Fl -pretty-print
.Op Fl s | Fl -basename
.Op Fl C | Fl -demangle
.Op Fl H | Fl -help
.Op Fl V | Fl -version
.Op Ar шестнадцатеричный_адрес Ns ...
.ОПИСАНИЕ
Утилита
.Nm
преобразует адреса программы, указанные аргументами командной строки
.Ar шестнадцатеричный_адрес,
в соответствующие имена исходных файлов и номера строк.
Если аргументы не переданы в
.Nm,
она будет читать эти адреса из стандартного ввода.
.Pp
Адреса программы, указанные аргументами
.Ar шестнадцатеричный_адрес,
кодируются с использованием соглашений, принимаемых
.Xr strtoull 3.
.Pp
По умолчанию
.Nm
использует исполняемый файл
.Dq Pa a.out.
Опция
.Fl e
может быть использована для указания другого ELF-объекта.
.Pp
Утилита
.Nm
распознает следующие опции:
.Bl -tag -width indent
.It Fl a | Fl -addresses
Отображать адрес перед информацией о номере строки.
.It Fl b Ar цель | Fl -target Ns = Ns Ar цель
Эта опция распознается
.Nm,
но игнорируется.
Она поддерживается для совместимости с GNU binutils.
.It Fl e Ar путь | Fl -exe Ns = Ns Ar путь
Использовать ELF-объект, указанный аргументом
.Ar путь,
для преобразования адресов.
Если эта опция не указана,
.Nm
будет использовать файл
.Dq Pa a.out.
.It Fl f | Fl -functions
Отображать имена функций в дополнение к информации о файле и номере строки.
.It Fl i | Fl -inlines
Если указанный адрес принадлежит встроенной функции, также отображать информацию
о номере строки для её вызывающей функции, рекурсивно до первого невстроенного вызывающего.
.It Fl j Ar имя_секции | Fl -section Ns = Ns Ar имя_секции
Значения, указанные аргументами
.Ar шестнадцатеричный_адрес,
следует трактовать как смещения в секции с именем
.Ar имя_секции.
.It Fl p | -pretty-print
Отображать информацию о номере строки в одной строке в удобочитаемом виде.
.It Fl s | -basename
Отображать только базовое имя для каждого имени файла.
.It Fl C | Fl -demangle
Деманглировать имена C++.
.It Fl H | Fl -help
Вывести справочное сообщение.
.It Fl V | Fl -version
Вывести идентификатор версии и завершить работу.
.El
.ФОРМАТ ВЫВОДА
Если опция
.Fl f
не была указана,
.Nm
будет выводить имя файла и номер строки для каждого указанного адреса
в отдельной строке.
.Pp
Если опция
.Fl f
была указана,
.Nm
будет выводить строку с именем функции, соответствующей
адресу программы
.Ar шестнадцатеричный_адрес,
за которой следует строка с именем файла и номером строки.
.Pp
Если опция
.Fl p
была указана,
.Nm
будет выводить информацию о номере строки и имя функции в одной строке
в удобочитаемом виде. Если также была указана опция
.Fl i,
.Nm
будет выводить информацию о вызывающей функции с префиксом
.Dq (встроено в).
.Pp
Утилита
.Nm
выводит имя файла и номер строки в формате
.Dq ИМЯ_ФАЙЛА:НОМЕР_СТРОКИ.
.Pp
Если имя файла или функции не может быть определено,
.Nm
выведет знак вопроса на их месте.
Если номер строки не может быть определен,
.Nm
выведет ноль на его месте.
.ПРИМЕРЫ
Для преобразования адреса 080483c4 в исполняемом файле по умолчанию
.Pa a.out
в имя исходного файла и номер строки используйте:
.Pp
Для преобразования адреса 080483c4 в исполняемом файле
.Pa helloworld
используйте:
.Pp
Чтобы
.Nm
работала как фильтр, читая адреса из стандартного ввода, используйте:
.Pp
Для вывода имени функции, соответствующего адресу, в дополнение к
имени исходного файла и номеру строки используйте:
.СТАТУС ВЫХОДА
.Ex -std
.СМ. ТАКЖЕ
.Xr nm 1,
.Xr elfdump 1,
.Xr elfcopy 1,
.Xr strtoull 3
.АВТОРЫ
Утилита
.Nm
была написана
.An Каем Ваном Aq Mt kaiwang27@users.sourceforge.net.
