.\"----------------------------------------------------------------------------
.\" "THE BEER-WARE LICENSE" (Revision 42):
.\" <phk@FreeBSD.org> wrote this file.  As long as you retain this notice, you
.\" can do whatever you want with this file. If we meet some day, and you think
.\" this stuff is worth it, you can buy me a beer in return.  Poul-Henning Kamp
.\" ---------------------------------------------------------------------------
.\"
.\" FRDP path ./usr.bin/file2c/file2c.1
.\" FRDP githash fa9896e082a1046ff4fbc75fcba4d18d1f2efc19
.\" FRDP hash256 9b9e8de13cbc93c9b1721b9f564b9fed434cd6ed4df181f7a2e8a1df9f6708b6
.Dd 22 марта 2007
.Dt FILE2C 1
.Os
.Sh ИМЯ
.Nm file2c
.Nd преобразовать файл в c-исходный код
.Sh СИНТАКСИС
.Nm
.Op Fl sx
.Op Fl n Ar количество
.Op Ar префикс Op Ar суффикс
.Sh ОПИСАНИЕ
Утилита
.Nm
читает файл из стандартного ввода и записывает его в стандартный вывод, преобразуя каждый
байт в его десятичное или шестнадцатеричное представление на лету.
Значения байтов разделяются запятой.
Это также означает, что за последним значением байта запятая не следует.
По умолчанию значения байтов выводятся в десятичном виде, но при указании опции
.Fl x
значения будут выводиться в шестнадцатеричном виде.
При указании опции
.Fl s
каждая строка выводится с ведущей табуляцией, и каждая запятая
сопровождается пробелом, кроме последней в строке.
.Pp
Если в одной строке выводится более 70 символов, эта строка
завершается, и вывод продолжается на следующей строке.
С помощью опции
.Fl n
это можно настроить так, чтобы переход происходил после указанного количества
выведенных значений байтов.
Длина строки больше не будет учитываться.
Чтобы все значения байтов были выведены в одной строке, укажите для опции
.Fl n
отрицательное число.
.Pp
Строки префикса и суффикса могут быть выведены до и после значений байтов
(соответственно).
Если требуется вывести суффикс, префикс также должен быть указан.
Первое неопционное слово является префиксом, за которым может следовать
слово, используемое в качестве суффикса.
.Pp
Эта программа обычно используется для встраивания двоичных файлов в исходные файлы на C.
Префикс используется для определения типа массива, а суффикс — для завершения
оператора на C.
Опции
.Fl n , s
и
.Fl x
полезны, когда двоичные данные представляют собой растровое изображение, и вывод
должен оставаться читаемым и/или редактируемым.
Шрифты, например, являются хорошим примером этого.
.Sh ПРИМЕРЫ
Команда:
.Bd -literal -offset indent
date | file2c 'const char date[] = {' ',0};'
.Ed
.Pp
произведёт:
.Bd -literal -offset indent
const char date[] = {
83,97,116,32,74,97,110,32,50,56,32,49,54,58,50,56,58,48,53,
32,80,83,84,32,49,57,57,53,10
,0};
.Ed
