.\" @(#)drill.1 1.7.0 14-Jul-2004 OF; 
.\" FRDP path ./contrib/ldns/drill/drill.1
.\" FRDP githash 986ba33c7a3bc8f5ba13c7a9d6512602f6e32c61
.\" FRDP hash256 deeafe54251d8cf7ada5b9d75b6d628a1c21fdeaa65f79323b59bc470a535a9b
.SH ИМЯ
drill \- получение (отладочной) информации из DNS(DNSSEC)
.SH СИНТАКСИС
.B drill
[
.IR OPTIONS
]
.IR name
[
.IR @server
]
[
.IR type
]
[
.IR class
]

.SH ОПИСАНИЕ
\fBdrill\fR — это инструмент, предназначенный для получения различной информации из
DNS. Он специально разработан для использования с DNSSEC.
.PP
Название \fBdrill\fR — это игра слов от \fBdig\fR. С \fBdrill\fR вы сможете
получить даже больше информации, чем с \fBdig\fR.
.PP
Если аргументы не указаны, класс по умолчанию 'IN', а тип — 'A'. Для
запросов используются серверы, указанные в /etc/resolv.conf.

.PP
\fIname\fR
Запросить это имя.

.PP
\fI@server\fR
Отправить запрос на этот сервер. Если не указано, используются серверы имён из
\fI/etc/resolv.conf\fR.

.PP
\fItype\fR
Запросить этот тип RR. Если тип не указан в командной строке, по умолчанию
используется 'A'. За исключением обратного запроса, когда по умолчанию используется 'PTR'.

.PP
\fIclass\fR
Использовать этот класс при запросе.

.SH SAMPLE USAGE
\fBdrill mx miek.nl\fR
Показать MX записи домена miek.nl

.TP
\fBdrill \-S jelte.nlnetlabs.nl\fR
Проследовать за подписями в домене jelte.nlnetlab.nl. Эта опция
доступна только когда ldns скомпилирован с поддержкой openssl.

.TP
\fBdrill \-TD www.example.com\fR
Выполнить DNSSEC (\-D) трассировку (\-T) от корневых серверов до www.example.com.
Эта опция работает только когда ldns скомпилирован с поддержкой openssl.

.TP
\fBdrill \-s dnskey jelte.nlnetlabs.nl\fR
Показать DNSKEY запись(и) для jelte.nlnetlabs.nl. Для каждой найденной DNSKEY
записи также вывести DS запись.

.SH OPTIONS

.TP
\fB\-D
Включить DNSSEC в запросе. При запросе DNSSEC типов (DNSKEY, RRSIG,
DS и NSEC) это \fIне\fR включается автоматически.

.TP
\fB\-T
Трассировать \fIname\fR от корня вниз. При использовании этой опции аргумент
@server не используется.

.TP
\fB\-S
Проследовать за подписью(ями) 'name' до известного ключа или как можно выше
по дереву.

.TP
\fB\-I  \fIIPv4 или IPv6 адрес\fR
Исходный адрес для отправки запроса. Исходный адрес должен присутствовать
на интерфейсе хоста, запускающего drill.

.TP
\fB\-V \fIуровень\fR
Быть более подробным. Установите уровень 5, чтобы увидеть фактический отправляемый запрос.

.TP
\fB\-Q
Тихий режим, это отменяет \-V.

.TP
\fB\-f \fIфайл\fR
Прочитать запрос из файла. Запрос должен быть сохранён с помощью \-w.

.TP
\fB\-i \fIфайл\fR
Прочитать ответ из файла вместо сети. Это помогает
в отладке и может использоваться для проверки валидности запроса на диске.
Если файл содержит бинарные данные, предполагается, что это запрос в
сетевом порядке.

.TP
\fB\-w \fIфайл\fR
Записать пакет ответа в файл.

.TP
\fB\-q \fIфайл\fR
Записать пакет запроса в файл.

.TP
\fB\-v
Показать версию drill.

.TP
\fB\-h
Показать короткое сообщение помощи.

.SS QUERY OPTIONS

.TP
\fB\-4
Оставаться на ip4. Отправлять запросы только на серверы имён с поддержкой ip4.

.TP
\fB\-6
Оставаться на ip6. Отправлять запросы только на серверы имён с поддержкой ip6.

.TP
\fB\-a
Использовать механизм отката структуры резолвера, если ответ
усечён (TC=1). Если получен усечённый пакет и эта
опция установлена, drill сначала отправит новый запрос с размером буфера EDNS0
4096.

Если размер буфера EDNS0 уже был установлен на 512+ байт, или
повторная попытка также приводит к усечённому ответу, структура
резолвера переключится на TCP.

.TP
\fB\-b \fIразмер\fR
Использовать размер как размер буфера в псевдо RR EDNS0.

.TP
\fB\-c \fIфайл\fR
Использовать файл вместо /etc/resolv.conf для конфигурации серверов имён.

.TP
\fB\-d \fIдомен\fR
При трассировке (\-T), начать с этого домена вместо корня.

.TP
\fB\-t
Использовать TCP/IP при запросе сервера.

.TP
\fB\-k \fIфайл_ключа\fR
Использовать этот файл для чтения (доверенного) ключа. Когда эта опция
дана, \fBdrill\fR пытается проверить текущий ответ с помощью этого
ключа. Проследование не выполняется. Когда \fBdrill\fR выполняет безопасную трассировку, этот
ключ будет использоваться как якорь доверия. Может содержать запись DNSKEY или DS.

Альтернативно, при трассировке с включённым DNSSEC (\fB-TD\fR) или проследовании за подписью
(\fB-S\fR), если \fB-k\fR не указан, и существует якорь доверия по умолчанию
(/etc/unbound/root.key), содержащий валидную запись DNSKEY или DS,
он будет использоваться как якорь доверия.

.TP
\fB\-o \fIмнемоника\fR
Использовать эту опцию для установки или сброса конкретных битов заголовка. Бит
устанавливается с помощью мнемоники в ЗАГЛАВНЫХ буквах. Бит сбрасывается, когда
мнемоника дана в строчных буквах. Следующие мнемоники
понимаются \fBdrill\fR:

        QR, qr: установить, сбросить QueRy (по умолчанию: вкл)
        AA, aa: установить, сбросить Authoritative Answer (по умолчанию: выкл)
        TC, tc: установить, сбросить TrunCated (по умолчанию: выкл)
        RD, rd: установить, сбросить Recursion Desired (по умолчанию: вкл)
        CD, cd: установить, сбросить Checking Disabled  (по умолчанию: выкл)
        RA, ra: установить, сбросить Recursion Available  (по умолчанию: выкл)
        AD, ad: установить, сбросить Authenticated Data (по умолчанию: выкл)

Таким образом: \fB-o CD\fR, включит Checking Disabled, что указывает кешу
не проверять выдаваемые ответы.

.TP
\fB\-p \fIпорт\fR
Использовать этот порт вместо стандартного 53.

.TP
\fB\-r \fIфайл\fR
При трассировке (\-T), использовать файл как файл подсказок корневых серверов.

.TP
\fB\-s
При обнаружении DNSKEY также выводить эквивалентный DS.

.TP
\fB\-u
Использовать UDP при запросе сервера. Это по умолчанию.

.TP
\fB\-w \fIфайл\fR
Записать ответ в файл. Файл будет содержать шестнадцатеричный дамп
запроса. Это может быть использовано вместе с \-f.

.TP
\fB\-x
Выполнить обратный запрос. Аргумент типа не используется, он предустановлен в PTR.

.TP
\fB\-y \fI<имя:ключ[:алгоритм]>\fR
Указать именованный ключ tsig в base64, и опционально алгоритм (по умолчанию hmac-md5.sig-alg.reg.int)

.TP
\fB\-z \fR
Не рандомизировать список серверов имён перед отправкой запросов.

Статус выхода 0, если найденный ответ безопасен и доверен,
или небезопасен.
Статус выхода не 0, если найденный ответ не доверен или ложен,
или произошла ошибка при выполнении поиска.

.TP
/etc/unbound/root.key
Файл, из которого загружаются доверенные ключи, когда не указана опция \fB-k\fR.
.LP
unbound-anchor(8)

.SH АВТОРЫ
Jelte Jansen и Miek Gieben. Оба из NLnet Labs.

.SH REPORTING BUGS
Сообщать об ошибках на <ldns-team@nlnetlabs.nl>.

.SH ИЗВЕСТНЫЕ ОШИБКИ

.SH COPYRIGHT
Copyright (c) 2004-2008 NLnet Labs.
Лицензировано по пересмотренной лицензии BSD. Нет ГАРАНТИЙ; даже на ПРИГОДНОСТЬ ДЛЯ ОПРЕДЕЛЁННОЙ ЦЕЛИ
или КОММЕРЧЕСКУЮ ПРИГОДНОСТЬ.

.SH СМ. ТАКЖЕ
\fBdig\fR(1), \fIRFC403{3,4,5}\fR.
