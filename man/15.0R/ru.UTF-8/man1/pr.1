.\" Copyright (c) 1991 Keith Muller.
.\" Copyright (c) 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" Keith Muller of the University of California, San Diego.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"     @(#)pr.1	8.3 (Berkeley) 4/18/94
.\"
.\" FRDP path ./usr.bin/pr/pr.1
.\" FRDP githash bdcbfde31e8e9b343f113a1956384bdf30d1ed62
.\" FRDP hash256 fbe3c9a1e3c6115f0eea2c51f219b858dc9fb60337c0236f9a1a3baa535d3448
.Dd 3 июля 2004
.Dt PR 1
.Os
.Sh ИМЯ
.Nm pr
.Nd печать файлов
.Sh СИНТАКСИС
.Nm
.Bk -words
.Op Ar \&+страница
.Ek
.Bk -words
.Op Fl Ar колонки
.Ek
.Op Fl adFfmprt
.Bk -words
.Oo
.Op Fl e
.Op Ar символ
.Op Ar интервал
.Oc
.Ek
.Bk -words
.Op Fl L Ar локаль
.Ek
.Bk -words
.Op Fl h Ar заголовок
.Ek
.Bk -words
.Oo
.Op Fl i
.Op Ar символ
.Op Ar интервал
.Oc
.Ek
.Bk -words
.Op Fl l Ar строк
.Ek
.Bk -words
.Op Fl o Ar смещение
.Ek
.Bk -words
.Oo
.Op Fl s
.Op Ar символ
.Oc
.Ek
.Bk -words
.Oo
.Op Fl n
.Op Ar символ
.Op Ar ширина
.Oc
.Ek
.Bk -words
.Op Fl w Ar ширина
.Ek
.Op -
.Op Ar
.Sh ОПИСАНИЕ
Утилита
.Nm
представляет собой фильтр печати и разбиения на страницы для текстовых файлов.
Если указано несколько входных файлов, каждый из них читается, форматируется
и записывается в стандартный вывод.
По умолчанию входные данные разделяются на страницы по 66 строк, каждая из которых содержит
.Bl -bullet
.It
Заголовок из 5 строк с номером страницы, датой, временем и
путём к файлу.
.It
Колонтитул из 5 строк, состоящий из пустых строк.
.El
.Pp
Если стандартный вывод связан с терминалом,
диагностические сообщения подавляются до тех пор, пока утилита
.Nm
не завершит обработку.
.Pp
Если указан вывод в несколько колонок,
текстовые колонки имеют одинаковую ширину.
По умолчанию текстовые колонки разделяются как минимум одним
.Em <пробелом> .
Входные строки, которые не помещаются в текстовую колонку, обрезаются.
Строки не обрезаются при выводе в одну колонку.
.Sh ОПЦИИ
В следующих описаниях опций колонки, строки, смещение, страница и
ширина являются положительными десятичными целыми числами, а интервал - неотрицательным десятичным целым числом.
.Bl -tag -width 4n
.It Ar \&+страница
Начать вывод с номера страницы
.Ar страница
отформатированных входных данных.
.It Fl Ar колонки
Создать вывод шириной в
.Ar колонки
(по умолчанию 1), который записывается вертикально
вниз по каждой колонке в том порядке, в котором текст
поступает из входного файла.
Опции
.Fl e
и
.Fl i
подразумеваются.
Эту опцию не следует использовать с
.Fl m .
При использовании с
.Fl t
для отображения вывода используется минимальное количество строк.
(Для более общего и без дополнительного форматирования преобразования в колонки и изменения формы текстовых файлов см. утилиту
.Xr rs 1 .)
.It Fl a
Изменить действие опции
.Fl колонки
так, чтобы колонки заполнялись по странице в циклическом порядке
(например, при количестве колонок 2 первая входная строка возглавляет колонку
1, вторая - колонку 2, третья является второй строкой
в колонке 1 и т.д.).
Эта опция требует использования опции
.Fl колонки .
.It Fl d
Создавать вывод с двойным интервалом.
Дополнительный символ
.Em <перевод строки>
выводится после каждого символа
.Em <перевод строки>
найденного во входных данных.
.It Fl e Xo
.Op Ar символ Ns
.Op Ar интервал
.Xc
Расширить каждый входной
.Em <табулятор>
до следующей большей позиции колонки,
определяемой формулой
.Ar n*интервал+1 ,
где
.Em n
целое число > 0.
Если
.Ar интервал
равен нулю или опущен, значение по умолчанию - 8.
Все символы
.Em <табулятор>
во входных данных расширяются в соответствующее количество
символов
.Em <пробел> .
Если указан любой нецифровой символ
.Ar символ ,
он используется как входной символ табуляции.
.It Fl F
Использовать символ
.Em <прогон страницы>
для новых страниц
вместо поведения по умолчанию, которое использует последовательность
символов
.Em <перевод строки> .
.It Fl f
То же, что и
.Fl F
но сделать паузу перед началом первой страницы, если стандартный вывод является терминалом.
.It Fl h Ar заголовок
Использовать строку
.Ar заголовок
для замены
.Ar имени файла
в строке заголовка.
.It Fl i Xo
.Op Ar символ Ns
.Op Ar интервал
.Xc
В выводе заменить множественные
.Em <пробелы>
на
.Em <табуляторы>
всякий раз, когда два или более
смежных символа
.Em <пробел>
достигают позиций колонок
.Ar интервал+1 ,
.Ar 2*интервал+1 ,
и т.д.
Если
.Ar интервал
равен нулю или опущен, используются настройки
.Em <табуляторов>
по умолчанию на каждой восьмой позиции колонки.
Если указан любой нецифровой символ,
.Ar символ ,
он используется как выходной символ
.Em <табулятор> .
.It Fl L Ar локаль
Использовать
.Ar локаль
указанную в качестве аргумента вместо найденной в окружении.
.It Fl l Ar строк
Переопределить значение по умолчанию в 66 строк и установить длину страницы в
.Ar строк .
Если
.Ar строк
не больше суммы глубины заголовка и колонтитула
(в строках), утилита
.Nm
подавляет вывод как заголовка, так и колонтитула, как если бы была
действительна опция
.Fl t .
.It Fl m
Объединить содержимое нескольких файлов.
По одной строке из каждого файла, указанного операндом файла,
записывается рядом в текстовые колонки равной фиксированной ширины, в
терминах количества позиций колонок.
Количество текстовых колонок зависит от числа
успешно открытых операндов-файлов.
Максимальное количество объединяемых файлов зависит от ширины страницы и
ограничения на количество открытых файлов в процессе.
Опции
.Fl e
и
.Fl i
подразумеваются.
.It Fl n Xo
.Op Ar символ Ns
.Op Ar ширина
.Xc
Обеспечить нумерацию строк с
.Ar шириной
цифр.
Значение по умолчанию для
.Ar ширины ,
если не указано, равно 5.
Номер занимает первые
.Ar ширина
позиций колонок каждой текстовой колонки или каждой строки вывода
.Fl m .
Если указан
.Ar символ
(любой нецифровой символ), он добавляется к номеру строки для
отделения его от последующего содержимого.
Значение по умолчанию для
.Ar символ
- это
.Em <табулятор> .
Номера строк длиннее
.Ar ширины
колонок обрезаются.
.It Fl o Ar смещение
Каждая строка вывода предваряется
.Ar смещением
символов
.Em <пробел> .
Если опция
.Fl o
не указана, значение по умолчанию - ноль.
Занимаемое пространство является дополнительным к ширине строки вывода.
.It Fl p
Делать паузу перед каждой страницей, если стандартный вывод является терминалом.
.Nm
запишет символ оповещения в стандартный поток ошибок и будет ждать чтения возврата каретки
на терминале.
.It Fl r
Не выводить диагностические сообщения при неудаче открытия файла.
.It Fl s Ar символ
Разделять текстовые колонки одиночным символом
.Ar символ
вместо соответствующего количества
.Em <пробелов>
(значение по умолчанию для
.Ar символ
- это символ
.Em <табулятор> ).
.It Fl t
Не печатать ни пятистрочный идентифицирующий
заголовок, ни пятистрочный колонтитул, обычно добавляемые к каждой странице.
Завершать печать после последней строки каждого файла без пробела до
конца страницы.
.It Fl w Ar ширина
Установить ширину строки в
.Ar ширина
позиций колонок только для вывода в несколько текстовых колонок.
Если опция
.Fl w
не указана и опция
.Fl s
не указана, ширина по умолчанию равна 72.
Если опция
.Fl w
не указана и указана опция
.Fl s , ширина по умолчанию равна 512.
.It Ar файл
Путь к файлу для печати.
Если операнды
.Ar файл
не указаны, или если операнд
.Ar файл
это
.Sq - ,
используется стандартный ввод.
Стандартный ввод используется только если не указаны операнды
.Ar файл ,
или если операндом
.Ar файл
является
.Sq - .
.El
.Pp
Опция
.Fl s
не позволяет отделить букву опции от её
аргумента, а опции
.Fl e ,
.Fl i ,
и
.Fl n
требуют, чтобы оба аргумента, если они присутствуют, не отделялись от буквы
опции.
.Sh СТАТУС ВЫХОДА
.Ex -std
.Sh DIAGNOSTICS
Если
.Nm
получает прерывание во время печати на терминал, она
сбрасывает все накопленные сообщения об ошибках на экран перед
завершением.
.Pp
Сообщения об ошибках записываются в стандартный поток ошибок во время процесса
печати (если вывод перенаправлен) или после завершения успешной
печати всех файлов (при печати на терминал).
.Sh СМ. ТАКЖЕ
.Xr cat 1 ,
.Xr more 1 ,
.Xr rs 1
.Sh СТАНДАРТЫ
Утилита
.Nm
совместима со
.St -p1003.1-2001 .
.Sh ИСТОРИЯ
Команда
.Nm
появилась в
.At v1 .
.Sh ИЗВЕСТНЫЕ ОШИБКИ
Утилита
.Nm
не распознаёт многобайтовые символы.
