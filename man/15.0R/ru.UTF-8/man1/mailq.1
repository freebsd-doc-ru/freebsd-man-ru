.\" Copyright (c) 1998-2000, 2002, 2007 Proofpoint, Inc. and its suppliers.
.\"	 All rights reserved.
.\" Copyright (c) 1983, 1997 Eric P. Allman.  All rights reserved.
.\" Copyright (c) 1985, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" By using this file, you agree to the terms and conditions set
.\" forth in the LICENSE file which can be found at the top level of
.\" the sendmail distribution.
.\"
.\"
.\"     $Id: mailq.1,v 8.22 2013-11-22 20:51:55 ca Exp $
.\"
.\" FRDP path ./contrib/sendmail/src/mailq.1
.\" FRDP githash 2fb4f839f3fc72ce2bab12f9ba4760f97f73e97f
.\" FRDP hash256 9a48efe124106f028bf6c27711dff903e7fbe698701dd5b752196c1500d6d255
.SH ИМЯ
mailq
\- вывод очереди почты
.SH СИНТАКСИС
.B mailq
.RB [ \-Ac ]
.RB [ \-q... ]
.RB [ \-v ]
.SH ОПИСАНИЕ
.B Mailq
выводит сводку почтовых сообщений, находящихся в очереди для последующей доставки.
.PP
Первая строка, выводимая для каждого сообщения,
показывает внутренний идентификатор, используемый на этом хосте
для сообщения, с возможным символом состояния,
размер сообщения в байтах,
дату и время принятия сообщения в очередь,
и отправителя конверта сообщения.
Вторая строка показывает сообщение об ошибке, из-за которого это сообщение
удерживается в очереди;
она не будет присутствовать, если сообщение обрабатывается
впервые.
Символы состояния могут быть либо
.B *
чтобы указать, что задание обрабатывается;
.B X
чтобы указать, что нагрузка слишком высока для обработки задания; и
.B -
чтобы указать, что задание слишком новое для обработки.
Следующие строки показывают получателей сообщения,
по одному на строку.
.PP
.B Mailq
идентична команде ``sendmail -bp''.
.PP
Соответствующие опции следующие:
.TP
.B \-Ac
Показать очередь отправки почты, указанную в
.I /etc/mail/submit.cf
вместо очереди MTA, указанной в
.IR /etc/mail/sendmail.cf .
.TP
.B \-qL
.TP
.B \-qQ
Показать помещённые в карантин элементы в очереди почты вместо обычных элементов очереди.
.TP
\fB\-q\fR[\fI!\fR]I подстрока
Ограничить обрабатываемые задания теми, которые содержат
.I подстроку
как подстроку идентификатора очереди, или не содержат, если указано
.I ! .
.TP
\fB\-q\fR[\fI!\fR]Q подстрока
Ограничить обрабатываемые задания карантинными заданиями, содержащими
.I подстроку
как подстроку причины карантина, или не содержащими, если указано
.I ! .
.TP
\fB\-q\fR[\fI!\fR]R подстрока
Ограничить обрабатываемые задания теми, которые содержат
.I подстроку
как подстроку одного из получателей, или не содержат, если указано
.I ! .
.TP
\fB\-q\fR[\fI!\fR]S подстрока
Ограничить обрабатываемые задания теми, которые содержат
.I подстроку
как подстроку отправителя, или не содержат, если указано
.I ! .
.TP
.B \-v
Выводить подробную информацию.
Это добавляет приоритет сообщения и
одиночный символьный индикатор (``+'' или пробел),
указывающий, было ли отправлено предупреждающее сообщение,
в первую строку вывода сообщения.
Кроме того, дополнительные строки могут быть перемешаны с получателями,
указывая информацию о «контролирующем пользователе»;
это показывает, кто будет владеть любыми программами, выполняемыми
от имени этого сообщения,
и имя псевдонима, из которого была развёрнута эта команда, если таковой имеется.
Более того, выводятся статусные сообщения для каждого получателя,
если они доступны.
.PP
Несколько опций sendmail.cf влияют на поведение утилиты
.B mailq
:
Количество выводимых элементов на группу очереди ограничивается значением
.B MaxQueueRunSize,
если оно установлено.
Символ состояния
.B *
не выводится для некоторых значений
.B QueueSortOrder,
например,
filename,
random,
modification и
none,
если не используется опция
.B -q
для ограничения обрабатываемых заданий.
.PP
Утилита
.B mailq
завершается с кодом 0 при успехе и >0 при возникновении ошибки.
.SH СМ. ТАКЖЕ
sendmail(8)
.SH ИСТОРИЯ
Команда
.B mailq
появилась в
4.0BSD.
