.\" Man page generated from reStructuredText.
.\" FRDP path ./usr.bin/clang/opt/opt.1
.\" FRDP githash a324c34037ef2e1101962fca4ad0c021253288e1
.\" FRDP hash256 7a8eab2cda4bf5d4ab6fd949b54a17e3a49647719db5ecde922e2a489280e7c0
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
..
.de UNINDENT
. RE
.nr rst2man-indent-level -1
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH ИМЯ
opt \- оптимизатор LLVM
.SH СИНТАКСИС
.sp
\fBopt\fP [\fIпараметры\fP] [\fIимя_файла\fP]
.SH ОПИСАНИЕ
.sp
Команда \fBopt\fP является модульным оптимизатором и анализатором LLVM. Она принимает
исходные файлы LLVM в качестве входных данных, выполняет указанные оптимизации или анализы над ними,
а затем выводит оптимизированный файл. Оптимизации, доступные через
\fBopt\fP, зависят от того, какие библиотеки были связаны с ним, а также от любых
дополнительных библиотек, загруженных с помощью опции \fI\%\-load\fP. Используйте
опцию \fI\%\-help\fP, чтобы определить, какие оптимизации вы можете применять.
.sp
Если \fBимя_файла\fP опущено в командной строке или указано как \(dq\fB\-\fP\(dq, \fBopt\fP
читает входные данные из стандартного ввода. Входные данные могут быть либо в формате ассемблера LLVM
(\fB\&.ll\fP), либо в формате биткода LLVM (\fB\&.bc\fP).
.sp
Если имя выходного файла не указано с помощью опции \fI\%\-o\fP,
\fBopt\fP записывает свой вывод в стандартный вывод.
.SH ПАРАМЕТРЫ
.INDENT 0.0
.TP
.B \-f
Разрешить двоичный вывод на терминалы. Обычно \fBopt\fP отказывается
записывать необработанный биткод, если выходной поток является терминалом. С этой опцией
\fBopt\fP будет записывать необработанный биткод независимо от выходного устройства.
.UNINDENT
.INDENT 0.0
.TP
.B \-help
Вывести краткую справку по параметрам командной строки.
.UNINDENT
.INDENT 0.0
.TP
.B \-o <имя_файла>
Указать имя выходного файла.
.UNINDENT
.INDENT 0.0
.TP
.B \-S
Записывать вывод на промежуточном языке LLVM (вместо биткода).
.UNINDENT
.INDENT 0.0
.TP
.B \-{имя_прохода}
\fBopt\fP предоставляет возможность запускать любые проходы оптимизации или
анализа LLVM в любом порядке. Опция \fI\%\-help\fP перечисляет все доступные
проходы. Порядок, в котором параметры указаны в командной строке, определяет
порядок их выполнения (с учётом ограничений проходов).
.UNINDENT
.INDENT 0.0
.TP
.B \-strip\-debug
Эта опция заставляет opt удалять отладочную информацию из модуля перед
применением других оптимизаций. Она по сути аналогична \fI\-strip\fP,
но гарантирует, что удаление отладочной информации выполняется первым.
.UNINDENT
.INDENT 0.0
.TP
.B \-verify\-each
Эта опция заставляет opt добавлять проход проверки после каждого прохода, указанного
в командной строке (включая \fI\-verify\fP). Это полезно в случаях, когда
есть подозрение, что какой-то проход создаёт недопустимый модуль, но
непонятно, какой именно проход это делает.
.UNINDENT
.INDENT 0.0
.TP
.B \-stats
Выводить статистику.
.UNINDENT
.INDENT 0.0
.TP
.B \-time\-passes
Записывать время, необходимое для каждого прохода, и выводить его в стандартный
поток ошибок.
.UNINDENT
.INDENT 0.0
.TP
.B \-debug
Если это сборка для отладки, эта опция включит вывод отладочной информации из проходов,
которые используют макрос \fBLLVM_DEBUG()\fP. См. \fI\%Руководство программиста LLVM\fP, раздел \fB#DEBUG\fP для получения дополнительной информации.
.UNINDENT
.INDENT 0.0
.TP
.B \-load=<плагин>
Загрузить динамический объект \fBплагин\fP\&. Этот объект должен регистрировать новые
проходы оптимизации или анализа. После загрузки объект добавит новые параметры
командной строки для включения различных оптимизаций или анализов. Чтобы увидеть новый
полный список оптимизаций, используйте опции \fI\%\-help\fP и \fI\%\-load\fP
вместе. Например:
.INDENT 7.0
.INDENT 3.5
.sp
.nf
.ft C
opt \-load=plugin.so \-help
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-print\-passes
Вывести все доступные проходы и завершить работу.
.UNINDENT
.SH СТАТУС ВЫХОДА
.sp
Если \fBopt\fP завершается успешно, он вернёт 0. В противном случае, если произойдёт ошибка,
он вернёт ненулевое значение.
.SH АВТОРЫ
Поддерживается командой LLVM (https://llvm.org/).
.SH АВТОРСКИЕ ПРАВА
2003-2023, Проект LLVM
