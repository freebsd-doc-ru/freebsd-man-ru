.\" Copyright (c) 1989, 1990, 1993, 1994
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@(#)finger.1	8.3 (Berkeley) 5/5/94
.\"
.\" FRDP path ./usr.bin/finger/finger.1
.\" FRDP githash bdcbfde31e8e9b343f113a1956384bdf30d1ed62
.\" FRDP hash256 2d2a4e416f0dbd12400901d854d1269194b52f2ccb4eb901b3bd2cb820fc76dd
.Dd 21 января 2010
.Dt FINGER 1
.Os
.Ш ИМЯ
.Nm finger
.Nd программа для получения информации о пользователях
.Ш СИНТАКСИС
.Nm
.Op Fl 46gklmpsho
.Op Ar пользователь ...\&
.Op Ar пользователь@хост ...\&
.Ш ОПИСАНИЕ
Утилита
.Nm
отображает информацию о пользователях системы.
.Pp
Параметры:
.Bl -tag -width indent
.It Fl 4
Принуждает
.Nm
использовать только адреса IPv4.
.It Fl 6
Принуждает
.Nm
использовать только адреса IPv6.
.It Fl s
Отображает имя входа пользователя, настоящее имя, имя терминала и статус
записи (как ``*'' перед именем терминала, если разрешение на запись
запрещено), время простоя, время входа, а также либо местонахождение офиса и
офисный телефон, либо удаленный хост.
Если указан
.Fl o ,
выводится местонахождение офиса и офисный телефон
(по умолчанию).
Если указан
.Fl h ,
вместо этого выводится удаленный хост.
.Pp
Время простоя указывается в минутах, если это целое число, в часах и минутах,
если присутствует ``:'', или в днях, если присутствует ``d''.
Если это
.Dq * ,
время входа указывает время последнего входа.
Время входа отображается как название дня, если прошло менее 6 дней, иначе
месяц, день;
часы и минуты, если не прошло более шести месяцев, в противном случае
отображается год вместо часов и минут.
.Pp
Неизвестные устройства, а также отсутствующие время простоя и время входа
отображаются как одиночные звездочки.
.It Fl h
При использовании вместе с параметром
.Fl s
отображается имя удаленного хоста вместо местонахождения офиса и
офисного телефона.
.It Fl o
При использовании вместе с параметром
.Fl s
отображается информация о местонахождении офиса и офисном телефоне
вместо имени удаленного хоста.
.It Fl g
Этот параметр ограничивает вывод gecos только настоящим именем
пользователя.
Также имеет побочный эффект ограничения вывода
удаленного хоста при использовании вместе с параметром
.Fl h .
.It Fl k
Отключает все использование базы данных учета пользователей.
.It Fl l
Выводит многострочный формат, отображающий всю информацию,
описанную для параметра
.Fl s ,
а также домашний каталог пользователя, домашний телефон, оболочку входа,
статус почты и содержимое файлов
.Pa .forward ,
.Pa .plan ,
.Pa .project
и
.Pa .pubkey
из домашнего каталога пользователя.
.Pp
Если время простоя составляет не менее минуты и менее дня, оно
представляется в формате ``чч:мм''.
Время простоя более дня представляется как ``д день[дней]чч:мм''.
.Pp
Номера телефонов, указанные как одиннадцать цифр, выводятся как
``+N-ННН-ННН-НННН''.
Номера, указанные как десять или семь цифр, выводятся как соответствующее
подмножество этой строки.
Номера, указанные как пять цифр, выводятся как ``xN-НННН''.
Номера, указанные как четыре цифры, выводятся как ``xНННН''.
.Pp
Если разрешение на запись для устройства запрещено, фраза ``(сообщения
выключены)''
добавляется к строке, содержащей имя устройства.
Одна запись на пользователя отображается с параметром
.Fl l ;
если пользователь вошел в систему несколько раз, информация о терминале
повторяется для каждого входа.
.Pp
Статус почты отображается как ``Нет почты.'', если почты нет вообще, ``Почта
последний раз прочитана ДД МММ ## ЧЧ:ММ ГГГГ (ЧП)'', если пользователь
просматривал свой почтовый ящик с момента поступления новой почты, или
``Получена новая почта ...'', ``Не прочитана с ...'', если у него есть
новая почта.
.It Fl p
Предотвращает
отображение содержимого файлов
.Pa .forward ,
.Pa .plan ,
.Pa .project
и
.Pa .pubkey
параметром
.Fl l
утилиты
.Nm .
.It Fl m
Предотвращает сопоставление
.Ar имен пользователей .
.Ar Пользователь
обычно является именем входа; однако сопоставление также будет выполняться по
настоящим именам пользователей, если не указан параметр
.Fl m .
Все сопоставления имен, выполняемые
.Nm ,
нечувствительны к регистру.
.El
.Pp
Если параметры не указаны,
.Nm
по умолчанию использует вывод в стиле
.Fl l ,
если предоставлены операнды, в противном случае в стиле
.Fl s .
Обратите внимание, что некоторые поля могут отсутствовать в любом формате,
если информация для них недоступна.
.Pp
Если аргументы не указаны,
.Nm
выведет запись для каждого пользователя, в настоящее время вошедшего в
систему.
.Pp
Утилита
.Nm
может использоваться для поиска пользователей на удаленной машине.
Формат заключается в указании
.Ar пользователя
как
.Dq Li пользователь@хост ,
или
.Dq Li @хост ,
где формат вывода по умолчанию для первого - стиль
.Fl l ,
а для второго - стиль
.Fl s .
Параметр
.Fl l
является единственным параметром, который может быть передан удаленной
машине.
.Pp
Если файл
.Pa .nofinger
существует в домашнем каталоге пользователя,
и программа не запущена с привилегиями суперпользователя,
.Nm
ведет себя так, как если бы данный пользователь не существует.
.Pp
Необязательный файл конфигурации
.Xr finger.conf 5
может использоваться для указания псевдонимов.
Поскольку
.Nm
вызывается
.Xr fingerd 8 ,
псевдонимы будут работать как для локальных, так и для сетевых запросов.
.Ш ОКРУЖЕНИЕ
Утилита
.Nm
использует следующую переменную окружения, если она существует:
.Bl -tag -width Fl
.It Ev FINGER
Эта переменная может быть установлена с предпочтительными параметрами для
.Nm .
.El
.Ш ФАЙЛЫ
.Bl -tag -width /var/log/utx.lastlogin -compact
.It Pa /etc/finger.conf
база данных определений псевдонимов
.It Pa /var/log/utx.lastlogin
база данных последнего входа
.El
.Ш СМ. ТАКЖЕ
.Xr chpass 1 ,
.Xr w 1 ,
.Xr who 1 ,
.Xr finger.conf 5 ,
.Xr fingerd 8
.Rs
.%A D. Zimmerman
.%T Протокол информации о пользователях Finger
.%R RFC 1288
.%D Декабрь 1991
.Re
.Ш ИСТОРИЯ
Команда
.Nm
появилась в
.Bx 3.0 .
.Ш ИЗВЕСТНЫЕ ОШИБКИ
Утилита
.Nm
не распознает многобайтовые символы.
