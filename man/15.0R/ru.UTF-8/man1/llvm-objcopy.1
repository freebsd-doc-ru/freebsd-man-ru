.\" Man page generated from reStructuredText.
.\" FRDP path ./usr.bin/clang/llvm-objcopy/llvm-objcopy.1
.\" FRDP githash a324c34037ef2e1101962fca4ad0c021253288e1
.\" FRDP hash256 26ff11f643eededacab5be930ce195b5d3888355e33f53df29380a04b28d6179
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
..
.de UNINDENT
. RE
.nr rst2man-indent-level -1
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH ИМЯ
llvm-objcopy \- инструмент для копирования и редактирования объектных файлов
.SH СИНТАКСИС
.sp
\fBllvm\-objcopy\fP [\fIпараметры\fP] \fIвходной_файл\fP [\fIвыходной_файл\fP]
.SH ОПИСАНИЕ
.sp
\fBllvm\-objcopy\fP — это инструмент для копирования и манипулирования объектными файлами. При базовом использовании он создает семантическую копию входного файла в выходной. Если указаны какие-либо параметры, выходной файл может быть изменен по пути, например, путем удаления секций.
.sp
Если выходной файл не указан, входной файл изменяется на месте. Если в качестве входного файла указано \(dq\-\(dq, входные данные считываются из стандартного потока ввода программы. Если в качестве выходного файла указано \(dq\-\(dq, выходные данные записываются в стандартный поток вывода программы.
.sp
Если входной файл является архивом, запрошенные операции будут применены к каждому члену архива индивидуально.
.sp
Инструмент все еще находится в активной разработке, но в большинстве сценариев он работает как прямая замена для GNU \fBobjcopy\fP\&.
.SH УНИВЕРСАЛЬНЫЕ И КРОСС-ПЛАТФОРМЕННЫЕ ПАРАМЕТРЫ
.sp
Следующие параметры либо не зависят от формата файла, либо применяются к нескольким форматам файлов.
.INDENT 0.0
.TP
.B \-\-add\-gnu\-debuglink <отладочный-файл>
Добавить секцию .gnu_debuglink для \fB<отладочный-файл>\fP в выходной файл.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-add\-section <секция=файл>
Добавить секцию с именем \fB<секция>\fP с содержимым из \fB<файл>\fP в выходной файл. Для объектов ELF секция будет иметь тип \fISHT_NOTE\fP, если имя начинается с \(dq.note\(dq. В противном случае она будет иметь тип \fISHT_PROGBITS\fP\&. Может быть указан несколько раз для добавления нескольких секций.
.sp
Для объектов MachO, \fB<секция>\fP должна быть отформатирована как \fB<имя сегмента>,<имя секции>\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-binary\-architecture <архитектура>, \-B
Игнорируется для совместимости.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-disable\-deterministic\-archives, \-U
Использовать реальные значения для UID, GID и временных меток при обновлении заголовков членов архива.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-discard\-all, \-x
Удалить большинство локальных символов из выходного файла. Различные форматы файлов могут ограничивать это подмножеством локальных символов. Например, символы файлов и секций в объектах ELF не будут удалены. Дополнительно удалить все отладочные секции.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dump\-section <секция>=<файл>
Выгрузить содержимое секции \fB<секция>\fP в файл \fB<файл>\fP\&. Может быть указан несколько раз для выгрузки нескольких секций в разные файлы. \fB<файл>\fP не связан с входным и выходным файлами, предоставленными \fBllvm\-objcopy\fP, и поэтому обычные операции копирования и редактирования все равно будут выполнены. Никакие операции не выполняются над секциями перед их выгрузкой.
.sp
Для объектов MachO, \fB<секция>\fP должна быть отформатирована как \fB<имя сегмента>,<имя секции>\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-enable\-deterministic\-archives, \-D
Включить детерминированный режим при копировании архивов, т.е. использовать 0 для полей UID, GID и временных меток заголовков членов архива. Включено по умолчанию.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-help, \-h
Вывести краткую справку по параметрам командной строки.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-only\-keep\-debug
Создать отладочный файл на выходе, который сохраняет только содержимое секций, полезных для отладки.
.sp
Для объектов ELF это удаляет содержимое секций \fISHF_ALLOC\fP, которые не являются \fISHT_NOTE\fP, превращая их в \fISHT_NOBITS\fP и, где возможно, уменьшая заголовки программ.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-only\-section <секция>, \-j
Удалить все секции из выходного файла, кроме секций с именем \fB<секция>\fP\&. Может быть указан несколько раз для сохранения нескольких секций.
.sp
Для объектов MachO, \fB<секция>\fP должна быть отформатирована как \fB<имя сегмента>,<имя секции>\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-redefine\-sym <старый>=<новый>
Переименовать символы с именем \fB<старый>\fP в \fB<новый>\fP в выходном файле. Может быть указан несколько раз для переименования нескольких символов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-redefine\-syms <имя файла>
Переименовать символы в выходном файле, как описано в файле \fB<имя файла>\fP\&. В файле каждая строка представляет один символ для переименования, старое и новое имя разделяются пробелом. Начальные и конечные пробелы игнорируются, как и все, что следует за \(aq#\(aq. Может быть указан несколько раз для чтения имен из нескольких файлов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-regex
Если указан, имена символов и секций, заданные другими переключателями, интерпретируются как расширенные POSIX-регулярные выражения.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-remove\-section <секция>, \-R
Удалить указанную секцию из выходного файла. Может быть указан несколько раз для одновременного удаления нескольких секций.
.sp
Для объектов MachO, \fB<секция>\fP должна быть отформатирована как \fB<имя сегмента>,<имя секции>\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-set\-section\-alignment <секция>=<выравнивание>
Установить выравнивание секции \fB<секция>\fP в значение \fB<выравнивание>\fP\&. Может быть указан несколько раз для обновления нескольких секций.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-set\-section\-flags <секция>=<флаг>[,<флаг>,...]
Установить свойства секции \fB<секция>\fP в выходном файле на основе указанных значений \fB<флаг>\fP\&. Может быть указан несколько раз для обновления нескольких секций.
.sp
Поддерживаемые имена флагов: \fIalloc\fP, \fIload\fP, \fInoload\fP, \fIreadonly\fP, \fIexclude\fP, \fIdebug\fP, \fIcode\fP, \fIdata\fP, \fIrom\fP, \fIshare\fP, \fIcontents\fP, \fImerge\fP и \fIstrings\fP\&. Не все флаги имеют смысл для всех форматов объектных файлов.
.sp
Для объектов ELF флаги имеют следующий эффект:
.INDENT 7.0
.IP \(bu 2
\fIalloc\fP = добавить флаг \fISHF_ALLOC\fP\&.
.IP \(bu 2
\fIload\fP = если секция имеет тип \fISHT_NOBITS\fP, пометить ее как секцию \fISHT_PROGBITS\fP\&.
.IP \(bu 2
\fIreadonly\fP = если этот флаг не указан, добавить флаг \fISHF_WRITE\fP\&.
.IP \(bu 2
\fIexclude\fP = добавить флаг \fISHF_EXCLUDE\fP\&.
.IP \(bu 2
\fIcode\fP = добавить флаг \fISHF_EXECINSTR\fP\&.
.IP \(bu 2
\fImerge\fP = добавить флаг \fISHF_MERGE\fP\&.
.IP \(bu 2
\fIstrings\fP = добавить флаг \fISHF_STRINGS\fP\&.
.IP \(bu 2
\fIcontents\fP = если секция имеет тип \fISHT_NOBITS\fP, пометить ее как секцию \fISHT_PROGBITS\fP\&.
.UNINDENT
.sp
Для объектов COFF флаги имеют следующий эффект:
.INDENT 7.0
.IP \(bu 2
\fIalloc\fP = добавить флаги \fIIMAGE_SCN_CNT_UNINITIALIZED_DATA\fP и \fIIMAGE_SCN_MEM_READ\fP, если не указан флаг \fIload\fP\&.
.IP \(bu 2
\fInoload\fP = добавить флаги \fIIMAGE_SCN_LNK_REMOVE\fP и \fIIMAGE_SCN_MEM_READ\fP\&.
.IP \(bu 2
\fIreadonly\fP = если этот флаг не указан, добавить флаг \fIIMAGE_SCN_MEM_WRITE\fP\&.
.IP \(bu 2
\fIexclude\fP = добавить флаги \fIIMAGE_SCN_LNK_REMOVE\fP и \fIIMAGE_SCN_MEM_READ\fP\&.
.IP \(bu 2
\fIdebug\fP = добавить флаги \fIIMAGE_SCN_CNT_INITIALIZED_DATA\fP, \fIIMAGE_SCN_MEM_DISCARDABLE\fP и  \fIIMAGE_SCN_MEM_READ\fP\&.
.IP \(bu 2
\fIcode\fP = добавить флаги \fIIMAGE_SCN_CNT_CODE\fP, \fIIMAGE_SCN_MEM_EXECUTE\fP и \fIIMAGE_SCN_MEM_READ\fP\&.
.IP \(bu 2
\fIdata\fP = добавить флаги \fIIMAGE_SCN_CNT_INITIALIZED_DATA\fP и \fIIMAGE_SCN_MEM_READ\fP\&.
.IP \(bu 2
\fIshare\fP = добавить флаги \fIIMAGE_SCN_MEM_SHARED\fP и \fIIMAGE_SCN_MEM_READ\fP\&.
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-all\-gnu
Удалить все символы, отладочные секции и перемещения из выходного файла. Этот параметр эквивалентен переключателю \fB\-\-strip\-all\fP GNU \fBobjcopy\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-all, \-S
Для объектов ELF удалить из выходного файла все символы и неаллоцируемые секции, не находящиеся внутри сегментов, за исключением секций .gnu.warning, .ARM.attribute и таблицы имен секций.
.sp
Для объектов COFF и Mach\-O удалить все символы, отладочные секции и перемещения из выходного файла.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-debug, \-g
Удалить все отладочные секции из выходного файла.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-symbol <символ>, \-N
Удалить все символы с именем \fB<символ>\fP из выходного файла. Может быть указан несколько раз для удаления нескольких символов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-symbols <имя файла>
Удалить из выходного файла все символы, имена которых содержатся в файле \fB<имя файла>\fP. В файле каждая строка представляет одно имя символа, начальные и конечные пробелы игнорируются, как и все, что следует за \(aq#\(aq. Может быть указан несколько раз для чтения имен из нескольких файлов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-unneeded\-symbol <символ>
Удалить из выходного файла все символы с именем \fB<символ>\fP, которые являются локальными или неопределенными и не требуются ни одним перемещением.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-unneeded\-symbols <имя файла>
Удалить из выходного файла все символы, имена которых содержатся в файле \fB<имя файла>\fP, если они являются локальными или неопределенными и не требуются ни одним перемещением. В файле каждая строка представляет одно имя символа, начальные и конечные пробелы игнорируются, как и все, что следует за \(aq#\(aq. Может быть указан несколько раз для чтения имен из нескольких файлов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-unneeded
Удалить из выходного файла все локальные или неопределенные символы, которые не требуются перемещениями. Также удалить все отладочные секции.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-update\-section <имя>=<файл>
Заменить содержимое секции \fB<имя>\fP содержимым из файла \fB<файл>\fP\&. Если секция \fB<имя>\fP является частью сегмента, новое содержимое не может быть больше существующей секции.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version, \-V
Показать версию исполняемого файла \fBllvm\-objcopy\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-wildcard, \-w
Разрешить синтаксис подстановочных знаков для флагов, связанных с символами. По умолчанию включено для флагов, связанных с секциями. Несовместимо с \-\-regex.
.sp
Синтаксис подстановочных знаков разрешает следующие специальные символы:
.TS
center;
|l|l|l|.
_
T{
Символ
T}	T{
Значение
T}	T{
Эквивалент
T}
_
T{
\fB*\fP
T}	T{
Любое количество символов
T}	T{
\fB\&.*\fP
T}
_
T{
\fB?\fP
T}	T{
Любой одиночный символ
T}	T{
\fB\&.\fP
T}
_
T{
\fB\e\fP
T}	T{
Экранировать следующий символ
T}	T{
\fB\e\fP
T}
_
T{
\fB[a\-z]\fP
T}	T{
Класс символов
T}	T{
\fB[a\-z]\fP
T}
_
T{
\fB[!a\-z]\fP, \fB[^a\-z]\fP
T}	T{
Инвертированный класс символов
T}	T{
\fB[^a\-z]\fP
T}
_
.TE
.sp
Дополнительно, если подстановочный знак начинается с \(aq!\(aq, это предотвратит совпадение, даже если другой флаг совпадает. Например, \fB\-w \-N \(aq*\(aq \-N \(aq!x\(aq\fP удалит все символы, кроме \fBx\fP\&.
.sp
Порядок подстановочных знаков не имеет значения. Например, \fB\-w \-N \(aq*\(aq \-N \(aq!x\(aq\fP эквивалентно \fB\-w \-N \(aq!x\(aq \-N \(aq*\(aq\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B @<ФАЙЛ>
Прочитать параметры командной строки и команды из файла ответов \fI<ФАЙЛ>\fP\&.
.UNINDENT
.SH ОПЦИИ, СПЕЦИФИЧНЫЕ ДЛЯ ELF
.sp
Следующие параметры реализованы только для объектов ELF. Если использовать их с другими объектами, \fBllvm\-objcopy\fP либо выдаст ошибку, либо просто проигнорирует их.
.INDENT 0.0
.TP
.B \-\-add\-symbol <имя>=[<секция>:]<значение>[,<флаги>]
Добавить новый символ с именем \fB<имя>\fP в таблицу символов выходного файла, в секции с именем \fB<секция>\fP, со значением \fB<значение>\fP\&. Если \fB<секция>\fP не указана, символ добавляется как абсолютный символ. \fB<флаги>\fP влияют на свойства символа. Допустимые значения:
.INDENT 7.0
.IP \(bu 2
\fIglobal\fP = символ будет иметь глобальную связь.
.IP \(bu 2
\fIlocal\fP = символ будет иметь локальную связь.
.IP \(bu 2
\fIweak\fP = символ будет иметь слабую связь.
.IP \(bu 2
\fIdefault\fP = символ будет иметь видимость по умолчанию.
.IP \(bu 2
\fIhidden\fP = символ будет иметь скрытую видимость.
.IP \(bu 2
\fIprotected\fP = символ будет иметь защищенную видимость.
.IP \(bu 2
\fIfile\fP = символ будет символом типа \fISTT_FILE\fP\&.
.IP \(bu 2
\fIsection\fP = символ будет символом типа \fISTT_SECTION\fP\&.
.IP \(bu 2
\fIobject\fP = символ будет символом типа \fISTT_OBJECT\fP\&.
.IP \(bu 2
\fIfunction\fP = символ будет символом типа \fISTT_FUNC\fP\&.
.IP \(bu 2
\fIindirect\-function\fP = символ будет символом типа \fISTT_GNU_IFUNC\fP\&.
.UNINDENT
.sp
Кроме того, следующие флаги принимаются, но игнорируются: \fIdebug\fP, \fIconstructor\fP, \fIwarning\fP, \fIindirect\fP, \fIsynthetic\fP, \fIunique\-object\fP, \fIbefore\fP\&.
.sp
Может быть указан несколько раз для добавления нескольких символов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-allow\-broken\-links
Разрешить \fBllvm\-objcopy\fP удалять секции, даже если это оставит недопустимые ссылки на секции. Любые недопустимые поля sh_link будут установлены в ноль.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-change\-start <инкремент>, \-\-adjust\-start
Добавить \fB<инкремент>\fP к начальному адресу программы. Может быть указан несколько раз, в этом случае значения будут применяться кумулятивно.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-compress\-debug\-sections [<формат>]
Сжать DWARF-отладочные секции в выходном файле, используя указанный формат. Поддерживаемые форматы: \fBzlib\fP и \fBzstd\fP\&. Используется \fBzlib\fP, если \fB<формат>\fP опущен.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-decompress\-debug\-sections
Распаковать любые сжатые DWARF-отладочные секции в выходном файле.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-discard\-locals, \-X
Удалить из выходного файла локальные символы, начинающиеся с \(dq.L\(dq.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-extract\-dwo
Удалить из выходного файла все секции, не являющиеся DWARF-секциями .dwo.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-extract\-main\-partition
Извлечь основную партицию из выходного файла.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-extract\-partition <имя>
Извлечь указанную партицию из выходного файла.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-globalize\-symbol <символ>
Пометить любые определенные символы с именем \fB<символ>\fP как глобальные символы в выходном файле. Может быть указан несколько раз для пометки нескольких символов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-globalize\-symbols <имя файла>
Прочитать список имен из файла \fB<имя файла>\fP и пометить определенные символы с этими именами как глобальные в выходном файле. В файле каждая строка представляет один символ, начальные и конечные пробелы игнорируются, как и все, что следует за \(aq#\(aq. Может быть указан несколько раз для чтения имен из нескольких файлов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-input\-target <формат>, \-I
Считывать входной файл как указанный формат. См. \fI\%ПОДДЕРЖИВАЕМЫЕ ФОРМАТЫ\fP для списка допустимых значений \fB<формат>\fP. Если не указано, \fBllvm\-objcopy\fP попытается определить формат автоматически.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-keep\-file\-symbols
Сохранять символы типа \fISTT_FILE\fP, даже если они в противном случае были бы удалены.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-keep\-global\-symbol <символ>, \-G
Сделать все символы локальными в выходном файле, за исключением символов с именем \fB<символ>\fP\&. Может быть указан несколько раз для исключения нескольких символов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-keep\-global\-symbols <имя файла>
Сделать все символы локальными в выходном файле, за исключением символов, перечисленных в файле \fB<имя файла>\fP. В файле каждая строка представляет один символ, начальные и конечные пробелы игнорируются, как и все, что следует за \(aq#\(aq. Может быть указан несколько раз для чтения имен из нескольких файлов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-keep\-section <секция>
При удалении секций из выходного файла не удалять секции с именем \fB<секция>\fP\&. Может быть указан несколько раз для сохранения нескольких секций.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-keep\-symbol <символ>, \-K
При удалении символов из выходного файла не удалять символы с именем \fB<символ>\fP\&. Может быть указан несколько раз для сохранения нескольких символов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-keep\-symbols <имя файла>
При удалении символов из выходного файла не удалять символы, перечисленные в файле \fB<имя файла>\fP. В файле каждая строка представляет один символ, начальные и конечные пробелы игнорируются, как и все, что следует за \(aq#\(aq. Может быть указан несколько раз для чтения имен из нескольких файлов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-localize\-hidden
Сделать все символы со скрытой или внутренней видимостью локальными в выходном файле.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-localize\-symbol <символ>, \-L
Пометить любой определенный необщий символ с именем \fB<символ>\fP как локальный символ в выходном файле. Может быть указан несколько раз для пометки нескольких символов как локальных.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-localize\-symbols <имя файла>
Прочитать список имен из файла \fB<имя файла>\fP и пометить определенные необщие символы с этими именами как локальные в выходном файле. В файле каждая строка представляет один символ, начальные и конечные пробелы игнорируются, как и все, что следует за \(aq#\(aq. Может быть указан несколько раз для чтения имен из нескольких файлов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-new\-symbol\-visibility <видимость>
Указать видимость символов, автоматически создаваемых при использовании двоичного ввода или \fI\%\-\-add\-symbol\fP\&. Допустимые варианты:
.INDENT 7.0
.IP \(bu 2
\fIdefault\fP
.IP \(bu 2
\fIhidden\fP
.IP \(bu 2
\fIinternal\fP
.IP \(bu 2
\fIprotected\fP
.UNINDENT
.sp
По умолчанию: \fIdefault\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-output\-target <формат>, \-O
Записать выходной файл в указанном формате. См. \fI\%ПОДДЕРЖИВАЕМЫЕ ФОРМАТЫ\fP для списка допустимых значений \fB<формат>\fP. Если не указано, предполагается, что выходной формат совпадает со значением, указанным для \fI\%\-\-input\-target\fP, или форматом входного файла, если этот параметр также не указан.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix\-alloc\-sections <префикс>
Добавить \fB<префикс>\fP в начало имен всех аллоцируемых секций в выходном файле.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix\-symbols <префикс>
Добавить \fB<префикс>\fP в начало каждого имени символа в выходном файле.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-preserve\-dates, \-p
Сохранить временные метки доступа и модификации в выходном файле.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-rename\-section <старый>=<новый>[,<флаг>,...]
Переименовать секции с именем \fB<старый>\fP в \fB<новый>\fP в выходном файле и применить указанные значения \fB<флаг>\fP\&. См. \fI\%\-\-set\-section\-flags\fP для списка поддерживаемых флагов. Может быть указан несколько раз для переименования нескольких секций.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-set\-section\-type <секция>=<тип>
Установить тип секции \fB<секция>\fP в целое число \fB<тип>\fP\&. Может быть указан несколько раз для обновления нескольких секций.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-set\-start\-addr <адрес>
Установить начальный адрес выходного файла в значение \fB<адрес>\fP\&. Переопределяет любые ранее указанные параметры \fI\%\-\-change\-start\fP или \fI\%\-\-adjust\-start\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-split\-dwo <файл-dwo>
Эквивалентно запуску \fBllvm\-objcopy\fP с \fI\%\-\-extract\-dwo\fP и \fB<файл-dwo>\fP в качестве выходного файла и без других параметров, а затем с \fI\%\-\-strip\-dwo\fP на входном файле.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-dwo
Удалить все DWARF-секции .dwo из выходного файла.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-non\-alloc
Удалить из выходного файла все неаллоцируемые секции, не находящиеся внутри сегментов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-strip\-sections
Удалить из выходного файла все заголовки секций и все данные секций, не находящиеся внутри сегментов. Обратите внимание, что многие инструменты не смогут использовать объект без заголовков секций.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-target <формат>, \-F
Эквивалентно \fI\%\-\-input\-target\fP и \fI\%\-\-output\-target\fP для указанного формата. См. \fI\%ПОДДЕРЖИВАЕМЫЕ ФОРМАТЫ\fP для списка допустимых значений \fB<формат>\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-weaken\-symbol <символ>, \-W
Пометить любой глобальный символ с именем \fB<символ>\fP как слабый символ в выходном файле. Может быть указан несколько раз для пометки нескольких символов как слабых.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-weaken\-symbols <имя файла>
Прочитать список имен из файла \fB<имя файла>\fP и пометить глобальные символы с этими именами как слабые в выходном файле. В файле каждая строка представляет один символ, начальные и конечные пробелы игнорируются, как и все, что следует за \(aq#\(aq. Может быть указан несколько раз для чтения имен из нескольких файлов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-weaken
Пометить все определенные глобальные символы как слабые в выходном файле.
.UNINDENT
.SH ОПЦИИ, СПЕЦИФИЧНЫЕ ДЛЯ MACH-O
.INDENT 0.0
.TP
.B \-\-keep\-undefined
Сохранять неопределенные символы, даже если они в противном случае были бы удалены.
.UNINDENT
.SH ОПЦИИ, СПЕЦИФИЧНЫЕ ДЛЯ COFF
.INDENT 0.0
.TP
.B \-\-subsystem <имя>[:<версия>]
Установить подсистему PE и, опционально, версию подсистемы.
.UNINDENT
.SH ПОДДЕРЖИВАЕМЫЕ ФОРМАТЫ
.sp
Следующие значения в настоящее время поддерживаются \fBllvm\-objcopy\fP для параметров \fI\%\-\-input\-target\fP, \fI\%\-\-output\-target\fP и \fI\%\-\-target\fP\&. Для совместимости с GNU \fBobjcopy\fP значения соответствуют bfdnames.
.INDENT 0.0
.IP \(bu 2
\fIbinary\fP
.IP \(bu 2
\fIihex\fP
.IP \(bu 2
\fIelf32\-i386\fP
.IP \(bu 2
\fIelf32\-x86\-64\fP
.IP \(bu 2
\fIelf64\-x86\-64\fP
.IP \(bu 2
\fIelf32\-iamcu\fP
.IP \(bu 2
\fIelf32\-littlearm\fP
.IP \(bu 2
\fIelf64\-aarch64\fP
.IP \(bu 2
\fIelf64\-littleaarch64\fP
.IP \(bu 2
\fIelf32\-littleriscv\fP
.IP \(bu 2
\fIelf64\-littleriscv\fP
.IP \(bu 2
\fIelf32\-powerpc\fP
.IP \(bu 2
\fIelf32\-powerpcle\fP
.IP \(bu 2
\fIelf64\-powerpc\fP
.IP \(bu 2
\fIelf64\-powerpcle\fP
.IP \(bu 2
\fIelf32\-bigmips\fP
.IP \(bu 2
\fIelf32\-ntradbigmips\fP
.IP \(bu 2
\fIelf32\-ntradlittlemips\fP
.IP \(bu 2
\fIelf32\-tradbigmips\fP
.IP \(bu 2
\fIelf32\-tradlittlemips\fP
.IP \(bu 2
\fIelf64\-tradbigmips\fP
.IP \(bu 2
\fIelf64\-tradlittlemips\fP
.IP \(bu 2
\fIelf32\-sparc\fP
.IP \(bu 2
\fIelf32\-sparcel\fP
.UNINDENT
.sp
Дополнительно, ко всем целям, кроме \fIbinary\fP и \fIihex\fP, можно добавить суффикс \fI\-freebsd\fP\&.
.SH ДВОИЧНЫЙ ВВОД И ВЫВОД
.sp
Если \fIbinary\fP используется в качестве значения для \fI\%\-\-input\-target\fP, входной файл будет встроен как секция данных в перемещаемый объект ELF, причем символы \fB_binary_<имя_файла>_start\fP, \fB_binary_<имя_файла>_end\fP и \fB_binary_<имя_файла>_size\fP представляют начало, конец и размер данных, где \fB<имя_файла>\fP — путь к входному файлу, указанный в командной строке, с небуквенно-цифровыми символами, преобразованными в \fB_\fP\&.
.sp
Если \fIbinary\fP используется в качестве значения для \fI\%\-\-output\-target\fP, выходной файл будет сырым двоичным файлом, содержащим образ памяти входного файла. Символы и информация о перемещениях будут отброшены. Образ начнется с адреса первой загружаемой секции в выходном файле.
.SH СТАТУС ВЫХОДА
.sp
\fBllvm\-objcopy\fP завершается с ненулевым кодом выхода при ошибке. В противном случае он завершается с кодом 0.
.SH ИЗВЕСТНЫЕ ОШИБКИ
.sp
Для сообщения об ошибках посетите <\fI\%https://github.com/llvm/llvm\-project/labels/tools:llvm\-objcopy/strip/\fP>.
.sp
Существует известная проблема с \fI\%\-\-input\-target\fP и \fI\%\-\-target\fP, из-за которой только форматы \fBbinary\fP и \fBihex\fP оказывают какой-либо эффект. Другие значения будут игнорироваться, и \fBllvm\-objcopy\fP попытается угадать формат входных данных.
.SH СМ. ТАКЖЕ
.sp
\fBllvm\-strip(1)\fP
.SH АВТОРЫ
Поддерживается командой LLVM (https://llvm.org/).
.SH АВТОРСКИЕ ПРАВА
2003-2023, LLVM Project
