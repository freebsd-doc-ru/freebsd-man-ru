.\"
.\" Copyright (c) 1994 SigmaSoft, Th. Lockert
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"      This product includes software developed by SigmaSoft, Th. Lockert.
.\" 3. The name of the author may not be used to endorse or promote products
.\"    derived from this software without specific prior written permission
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
.\" OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
.\" IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,
.\" INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT
.\" NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
.\" DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
.\" THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
.\" (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
.\" THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.\" FRDP path ./usr.bin/ipcs/ipcs.1
.\" FRDP githash fa9896e082a1046ff4fbc75fcba4d18d1f2efc19
.\" FRDP hash256 8728adecb36678b90f14931ba4ab584d84ade6ecf6bd48408662f5f2212c811f
.Dd 24 марта 2004
.Os
.Sh ИМЯ
.Nm ipcs
.Nd вывод состояния средств межпроцессного взаимодействия System V
.Sh СИНТАКСИС
.Nm
.Op Fl abcmopqstMQSTy
.Op Fl C Ar ядро
.Op Fl N Ar система
.Op Fl u Ar пользователь
.Sh ОПИСАНИЕ
Утилита
.Nm
предоставляет информацию о средствах межпроцессного взаимодействия (IPC)
System V в системе.
.Pp
Параметры следующие:
.Bl -tag -width Ds
.It Fl a
Показывать максимально возможный объём информации при
отображении активных семафоров, очередей сообщений
и сегментов разделяемой памяти.
(Это сокращённая запись для указания параметров
.Fl b ,
.Fl c ,
.Fl o ,
.Fl p ,
и
.Fl t .)
.It Fl b
Показывать максимально допустимые размеры для активных семафоров, очередей сообщений
и сегментов разделяемой памяти.
.Dq Максимально допустимый размер —
это максимальное количество байт в сообщении в очереди сообщений,
размер сегмента разделяемой памяти
или количество семафоров в наборе семафоров.
.It Fl c
Показывать имя и группу создателя для активных семафоров, очередей сообщений
и сегментов разделяемой памяти.
.It Fl m
Отображать информацию об активных сегментах разделяемой памяти.
.It Fl o
Показывать текущее использование для активных очередей сообщений
и сегментов разделяемой памяти.
.Dq Текущее использование —
это количество сообщений в очереди сообщений или количество
процессов, присоединённых к сегменту разделяемой памяти.
.It Fl p
Показывать информацию об идентификаторах процессов (ID) для активных семафоров, очередей сообщений
и сегментов разделяемой памяти.
.Dq Информация об идентификаторах процессов —
это последний процесс, отправивший сообщение в или получивший сообщение из
очереди сообщений,
процесс, создавший семафор, или последний процесс, присоединивший
или отсоединивший сегмент разделяемой памяти.
.It Fl q
Отображать информацию об активных очередях сообщений.
.It Fl s
Отображать информацию об активных семафорах.
.It Fl t
Показывать времена доступа для активных семафоров, очередей сообщений
и сегментов разделяемой памяти.
Время доступа — это время
последней операции управления над объектом IPC,
последней отправки или получения сообщения,
последнего присоединения или отсоединения сегмента разделяемой памяти
или последней операции над семафором.
.It Fl C Ar ядро
Извлекать значения, связанные со списком имён, из указанного
файла ядра вместо используемого по умолчанию
.Pa /dev/kmem .
Подразумевает
.Fl y .
.It Fl M
Отображать системную информацию о разделяемой памяти.
.It Fl N Ar система
Извлекать список имён из указанной системы вместо
используемой по умолчанию
.Pa /boot/kernel/kernel .
Подразумевает
.Fl y .
.It Fl Q
Отображать системную информацию об очередях сообщений.
.It Fl S
Отображать системную информацию о семафорах.
.It Fl T
Отображать системную информацию о разделяемой памяти, очередях сообщений
и семафорах.
.It Fl y
Использовать интерфейс
.Xr kvm 3
вместо интерфейса
.Xr sysctl 3
для извлечения требуемой информации.
Если
.Nm
должна работать на работающей системе,
использование
.Xr kvm 3
потребует прав на чтение
.Pa /dev/kmem .
.It Fl u Ar пользователь
Отображать информацию о механизмах IPC, принадлежащих
.Pa пользователю .
Спецификация пользователя может быть в виде числового UID или
имени для входа.
.El
.Pp
Если ни один из параметров
.Fl M ,
.Fl m ,
.Fl Q ,
.Fl q ,
.Fl S ,
или
.Fl s
не указан, выводится информация обо всех активных средствах IPC.
.Sh ОГРАНИЧЕНИЯ
Системные структуры данных могут изменяться во время работы
.Nm ;
вывод
.Nm
не гарантированно будет согласованным.
.Sh ФАЙЛЫ
.Bl -tag -width /boot/kernel/kernel -compact
.It Pa /dev/kmem
память ядра по умолчанию
.It Pa /boot/kernel/kernel
список имён системы по умолчанию
.El
.Sh СМ. ТАКЖЕ
.Xr ipcrm 1
.Sh АВТОРЫ
.An Thorsten Lockert Aq Mt tholo@sigmasoft.com
.Sh ИЗВЕСТНЫЕ ОШИБКИ
Эта справочная страница крайне неполна, поскольку она совсем
не пытается объяснить информацию, выводимую
.Nm .
