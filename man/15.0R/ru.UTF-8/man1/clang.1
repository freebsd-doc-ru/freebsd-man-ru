.\" Man page generated from reStructuredText.
.\" FRDP path ./usr.bin/clang/clang/clang.1
.\" FRDP githash a324c34037ef2e1101962fca4ad0c021253288e1
.\" FRDP hash256 4b760fca336cabad8b4d2d9252aaec1a5b5bdc5c81d93534f5bc42c6d0893eb6
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
..
.de UNINDENT
. RE
.nr rst2man-indent-level -1
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH ИМЯ
clang \- компилятор Clang для языков C, C++ и Objective-C
.SH СИНТАКСИС
.sp
\fBclang\fP [\fIопции\fP] \fIфайл...\fP
.SH ОПИСАНИЕ
.sp
\fBclang\fP — это компилятор для языков C, C++ и Objective\-C, который включает в себя
препроцессорную обработку, синтаксический разбор, оптимизацию, генерацию кода, ассемблирование и компоновку.
В зависимости от выбранного режима высокого уровня, Clang может остановиться до выполнения полной компоновки.
Хотя Clang является высокоинтегрированным инструментом, важно понимать этапы компиляции, чтобы знать, как его вызывать.
Эти этапы:
.INDENT 0.0
.TP
.B Драйвер
Исполняемый файл clang фактически представляет собой небольшой драйвер, который управляет общим выполнением других инструментов, таких как компилятор, ассемблер и компоновщик.
Обычно вам не нужно взаимодействовать с драйвером напрямую, но вы
прозрачно используете его для запуска других инструментов.
.TP
.B Препроцессорная обработка
На этом этапе выполняется токенизация входного исходного файла, раскрытие макросов,
раскрытие директив #include и обработка других директив препроцессора.
Выходом этого этапа обычно является файл с расширением \(dq.i\(dq (для C), \(dq.ii\(dq (для C++),
\(dq.mi\(dq (для Objective\-C) или \(dq.mii\(dq (для Objective\-C++).
.TP
.B Синтаксический разбор и семантический анализ
На этом этапе выполняется синтаксический разбор входного файла, преобразование токенов препроцессора в
дерево разбора. После получения дерева разбора применяется семантический
анализ для вычисления типов выражений, а также для определения корректности кода. Этот этап отвечает за генерацию большинства
предупреждений компилятора, а также ошибок разбора. Выходом этого этапа является
\(dqАбстрактное синтаксическое дерево\(dq (AST).
.TP
.B Генерация кода и оптимизация
На этом этапе AST преобразуется в низкоуровневый промежуточный код (известный как
\(dqLLVM IR\(dq) и, в конечном итоге, в машинный код. Эта фаза отвечает за
оптимизацию сгенерированного кода и обработку целевой генерации кода.
Выходом этого этапа обычно является файл с расширением \(dq.s\(dq или \(dqассемблерный\(dq файл.
.sp
Clang также поддерживает использование встроенного ассемблера, при котором генератор кода
производит объектные файлы напрямую. Это позволяет избежать накладных расходов на
генерацию файла \(dq.s\(dq и вызов целевого ассемблера.
.TP
.B Ассемблер
На этом этапе выполняется целевой ассемблер для преобразования выходных данных
компилятора в целевой объектный файл. Выходом этого этапа обычно является файл с расширением \(dq.o\(dq или \(dqобъектный\(dq файл.
.TP
.B Компоновщик
На этом этапе выполняется целевой компоновщик для объединения нескольких объектных файлов в исполняемый файл или динамическую библиотеку. Выходом этого этапа обычно является файл с именем
\(dqa.out\(dq, \(dq.dylib\(dq или \(dq.so\(dq.
.UNINDENT
.sp
\fBСтатический анализатор Clang\fP
.sp
Статический анализатор Clang — это инструмент, который сканирует исходный код для поиска ошибок
с помощью анализа кода. Этот инструмент использует многие части Clang и встроен в
тот же драйвер. Дополнительные сведения о том, как использовать статический анализатор, см. на странице <\fI\%https://clang\-analyzer.llvm.org\fP>.
.SH ОПЦИИ
.SS Опции выбора этапа
.INDENT 0.0
.TP
.B \-E
Запускает этап препроцессорной обработки.
.UNINDENT
.INDENT 0.0
.TP
.B \-fsyntax\-only
Запускает этапы препроцессорной обработки, синтаксического разбора и семантического анализа.
.UNINDENT
.INDENT 0.0
.TP
.B \-S
Запускает предыдущие этапы, а также этапы генерации и оптимизации LLVM
и целевую генерацию кода, создавая ассемблерный файл.
.UNINDENT
.INDENT 0.0
.TP
.B \-c
Запускает все вышеперечисленное, а также ассемблер, генерируя целевой объектный файл \(dq.o\(dq.
.UNINDENT
.INDENT 0.0
.TP
.B (отсутствие опции выбора этапа)
Если опция выбора этапа не указана, выполняются все перечисленные выше этапы, и
запускается компоновщик для объединения результатов в исполняемый файл или общую библиотеку.
.UNINDENT
.SS Опции выбора языка и режима
.INDENT 0.0
.TP
.B \-x <язык>
Обрабатывать последующие входные файлы как файлы указанного языка.
.UNINDENT
.INDENT 0.0
.TP
.B \-std=<стандарт>
Указать стандарт языка, для которого выполняется компиляция.
.sp
Поддерживаемые значения для языка C:
.INDENT 7.0
.INDENT 3.5
.nf
\fBc89\fP
\fBc90\fP
\fBiso9899:1990\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C 1990
.UNINDENT
.UNINDENT
.nf
\fBiso9899:199409\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C 1990 с поправкой 1
.UNINDENT
.UNINDENT
.nf
\fBgnu89\fP
\fBgnu90\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C 1990 с расширениями GNU
.UNINDENT
.UNINDENT
.nf
\fBc99\fP
\fBiso9899:1999\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C 1999
.UNINDENT
.UNINDENT
.nf
\fBgnu99\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C 1999 с расширениями GNU
.UNINDENT
.UNINDENT
.nf
\fBc11\fP
\fBiso9899:2011\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C 2011
.UNINDENT
.UNINDENT
.nf
\fBgnu11\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C 2011 с расширениями GNU
.UNINDENT
.UNINDENT
.nf
\fBc17\fP
\fBiso9899:2017\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C 2017
.UNINDENT
.UNINDENT
.nf
\fBgnu17\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C 2017 с расширениями GNU
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
Стандарт языка C по умолчанию — \fBgnu17\fP, за исключением PS4, где используется
\fBgnu99\fP\&.
.sp
Поддерживаемые значения для языка C++:
.INDENT 7.0
.INDENT 3.5
.nf
\fBc++98\fP
\fBc++03\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C++ 1998 с поправками
.UNINDENT
.UNINDENT
.nf
\fBgnu++98\fP
\fBgnu++03\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C++ 1998 с поправками и расширениями GNU
.UNINDENT
.UNINDENT
.nf
\fBc++11\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C++ 2011 с поправками
.UNINDENT
.UNINDENT
.nf
\fBgnu++11\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C++ 2011 с поправками и расширениями GNU
.UNINDENT
.UNINDENT
.nf
\fBc++14\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C++ 2014 с поправками
.UNINDENT
.UNINDENT
.nf
\fBgnu++14\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C++ 2014 с поправками и расширениями GNU
.UNINDENT
.UNINDENT
.nf
\fBc++17\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C++ 2017 с поправками
.UNINDENT
.UNINDENT
.nf
\fBgnu++17\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C++ 2017 с поправками и расширениями GNU
.UNINDENT
.UNINDENT
.nf
\fBc++20\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C++ 2020 с поправками
.UNINDENT
.UNINDENT
.nf
\fBgnu++20\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
ISO C++ 2020 с поправками и расширениями GNU
.UNINDENT
.UNINDENT
.nf
\fBc++2b\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
Рабочий черновик ISO C++ 2023
.UNINDENT
.UNINDENT
.nf
\fBgnu++2b\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
Рабочий черновик ISO C++ 2023 с расширениями GNU
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
Стандарт языка C++ по умолчанию — \fBgnu++17\fP\&.
.sp
Поддерживаемые значения для языка OpenCL:
.INDENT 7.0
.INDENT 3.5
.nf
\fBcl1.0\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
OpenCL 1.0
.UNINDENT
.UNINDENT
.nf
\fBcl1.1\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
OpenCL 1.1
.UNINDENT
.UNINDENT
.nf
\fBcl1.2\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
OpenCL 1.2
.UNINDENT
.UNINDENT
.nf
\fBcl2.0\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
OpenCL 2.0
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
Стандарт языка OpenCL по умолчанию — \fBcl1.0\fP\&.
.sp
Поддерживаемые значения для языка CUDA:
.INDENT 7.0
.INDENT 3.5
.nf
\fBcuda\fP
.fi
.sp
.INDENT 0.0
.INDENT 3.5
NVIDIA CUDA(tm)
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-stdlib=<библиотека>
Указать стандартную библиотеку C++ для использования; поддерживаемые варианты: libstdc++ и
libc++. Если не указано, будет использовано значение по умолчанию для платформы.
.UNINDENT
.INDENT 0.0
.TP
.B \-rtlib=<библиотека>
Указать библиотеку времени выполнения компилятора для использования; поддерживаемые варианты: libgcc и
compiler\-rt. Если не указано, будет использовано значение по умолчанию для платформы.
.UNINDENT
.INDENT 0.0
.TP
.B \-ansi
Эквивалентно \-std=c89.
.UNINDENT
.INDENT 0.0
.TP
.B \-ObjC, \-ObjC++
Обрабатывать входные исходные файлы как файлы Objective\-C и Objective\-C++ соответственно.
.UNINDENT
.INDENT 0.0
.TP
.B \-trigraphs
Включить триграфы.
.UNINDENT
.INDENT 0.0
.TP
.B \-ffreestanding
Указать, что файл должен компилироваться для автономной (freestanding), а не размещённой (hosted)
среды. Обратите внимание, что предполагается, что автономная среда дополнительно предоставит реализации
\fImemcpy\fP, \fImemmove\fP, \fImemset\fP и \fImemcmp\fP,
поскольку они необходимы для эффективной генерации кода для многих программ.
.UNINDENT
.INDENT 0.0
.TP
.B \-fno\-builtin
Отключить специальную обработку и оптимизацию известных библиотечных функций,
таких как \fBstrlen()\fP и \fBmalloc()\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-fno\-builtin\-<функция>
Отключить специальную обработку и оптимизацию для конкретной библиотечной функции.
Например, \fB\-fno\-builtin\-strlen\fP отменяет любую специальную обработку для
библиотечной функции \fBstrlen()\fP.
.UNINDENT
.INDENT 0.0
.TP
.B \-fno\-builtin\-std\-<функция>
Отключить специальную обработку и оптимизацию для конкретной функции стандартной библиотеки C++
в пространстве имён \fBstd\fP\&. Например,
\fB\-fno\-builtin\-std\-move_if_noexcept\fP отменяет любую специальную обработку для
библиотечной функции \fBstd::move_if_noexcept()\fP.
.sp
Для функций стандартной библиотеки C, которые также предоставляются стандартной библиотекой C++
в пространстве имён \fBstd\fP, используйте \fI\%\-fno\-builtin\-<функция>\fP.
.UNINDENT
.INDENT 0.0
.TP
.B \-fmath\-errno
Указать, что математические функции должны обновлять \fBerrno\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-fpascal\-strings
Включить поддержку строк в стиле Паскаля с \(dq\epfoo\(dq.
.UNINDENT
.INDENT 0.0
.TP
.B \-fms\-extensions
Включить поддержку расширений Microsoft.
.UNINDENT
.INDENT 0.0
.TP
.B \-fmsc\-version=
Установить _MSC_VER. По умолчанию 1300 на Windows. В других случаях не устанавливается.
.UNINDENT
.INDENT 0.0
.TP
.B \-fborland\-extensions
Включить поддержку расширений Borland.
.UNINDENT
.INDENT 0.0
.TP
.B \-fwritable\-strings
Сделать все строковые литералы по умолчанию доступными для записи. Это отключает уникальность
строк и другие оптимизации.
.UNINDENT
.INDENT 0.0
.TP
.B \-flax\-vector\-conversions, \-flax\-vector\-conversions=<тип>, \-fno\-lax\-vector\-conversions
Разрешить менее строгие правила проверки типов для неявных преобразований векторов.
Возможные значения <типа>:
.INDENT 7.0
.IP \(bu 2
\fBnone\fP: запретить любые неявные преобразования между векторами
.IP \(bu 2
\fBinteger\fP: разрешить неявные побитовые преобразования между целочисленными векторами с одинаковой
общей разрядностью
.IP \(bu 2
\fBall\fP: разрешить неявные побитовые преобразования между любыми векторами с одинаковой
общей разрядностью
.UNINDENT
.sp
<тип> по умолчанию равен \fBinteger\fP, если не указан.
.UNINDENT
.INDENT 0.0
.TP
.B \-fblocks
Включить языковую возможность \(dqБлоки\(dq (Blocks).
.UNINDENT
.INDENT 0.0
.TP
.B \-fobjc\-abi\-version=версия
Выбрать версию ABI Objective\-C для использования. Доступные версии: 1 (устаревшая
\(dqхрупкая\(dq ABI), 2 (нехрупкая ABI 1) и 3 (нехрупкая ABI 2).
.UNINDENT
.INDENT 0.0
.TP
.B \-fobjc\-nonfragile\-abi\-version=<версия>
Выбрать версию нехрупкой ABI Objective\-C для использования по умолчанию. Это будет
использоваться как ABI Objective\-C только тогда, когда нехрупкая ABI включена
(либо через \fI\%\-fobjc\-nonfragile\-abi\fP, либо потому что это значение по умолчанию для платформы).
.UNINDENT
.INDENT 0.0
.TP
.B \-fobjc\-nonfragile\-abi, \-fno\-objc\-nonfragile\-abi
Включить использование нехрупкой ABI Objective\-C. На платформах, где это
ABI по умолчанию, её можно отключить с помощью \fI\%\-fno\-objc\-nonfragile\-abi\fP\&.
.UNINDENT
.SS Опции выбора цели
.sp
Clang полностью поддерживает кросскомпиляцию как неотъемлемую часть своей архитектуры.
В зависимости от конфигурации вашей версии Clang, он может поддерживать множество
кросскомпиляторов или поддерживать только нативную цель.
.INDENT 0.0
.TP
.B \-arch <архитектура>
Указать архитектуру, для которой выполняется сборка (специфично для Mac OS X).
.UNINDENT
.INDENT 0.0
.TP
.B \-target <архитектура>
Указать архитектуру, для которой выполняется сборка (все платформы).
.UNINDENT
.INDENT 0.0
.TP
.B \-mmacosx\-version\-min=<версия>
При сборке для macOS указать минимальную версию, поддерживаемую вашим
приложением.
.UNINDENT
.INDENT 0.0
.TP
.B \-miphoneos\-version\-min
При сборке для iPhone OS указать минимальную версию, поддерживаемую вашим
приложением.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-print\-supported\-cpus
Вывести список поддерживаемых процессоров для заданной цели (указанной
через \fB\-\-target=<архитектура>\fP или \fI\%\-arch\fP \fB<архитектура>\fP). Если
цель не указана, будет использована цель по умолчанию для системы.
.UNINDENT
.INDENT 0.0
.TP
.B \-mcpu=?, \-mtune=?
Является псевдонимом для \fI\%\-\-print\-supported\-cpus\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-march=<процессор>
Указать, что Clang должен генерировать код для конкретного члена семейства процессоров
и более поздних. Например, если указать \-march=i486, компилятор может
генерировать инструкции, допустимые для процессоров i486 и более поздних,
но которые могут отсутствовать на более ранних.
.UNINDENT
.SS Опции генерации кода
.INDENT 0.0
.TP
.B \-O0, \-O1, \-O2, \-O3, \-Ofast, \-Os, \-Oz, \-Og, \-O, \-O4
Указать уровень оптимизации для использования:
.INDENT 7.0
.INDENT 3.5
\fI\%\-O0\fP означает \(dqбез оптимизации\(dq: этот уровень компилируется быстрее всего и
генерирует код, наиболее пригодный для отладки.
.sp
\fI\%\-O1\fP Нечто среднее между \fI\%\-O0\fP и \fI\%\-O2\fP\&.
.sp
\fI\%\-O2\fP Умеренный уровень оптимизации, который включает большинство
оптимизаций.
.sp
\fI\%\-O3\fP Похож на \fI\%\-O2\fP, но включает оптимизации, которые
требуют больше времени для выполнения или могут генерировать больший код (в попытке
ускорить выполнение программы).
.sp
\fI\%\-Ofast\fP Включает все оптимизации из \fI\%\-O3\fP вместе
с другими агрессивными оптимизациями, которые могут нарушать строгое соответствие
языковым стандартам.
.sp
\fI\%\-Os\fP Похож на \fI\%\-O2\fP с дополнительными оптимизациями для уменьшения размера
кода.
.sp
\fI\%\-Oz\fP Похож на \fI\%\-Os\fP (и, следовательно, на \fI\%\-O2\fP), но ещё больше уменьшает размер
кода.
.sp
\fI\%\-Og\fP Похож на \fI\%\-O1\fP\&. В будущих версиях эта опция может
отключать другие оптимизации для улучшения возможности отладки.
.sp
\fI\%\-O\fP Эквивалентно \fI\%\-O1\fP\&.
.sp
\fI\%\-O4\fP и выше
.INDENT 0.0
.INDENT 3.5
В настоящее время эквивалентно \fI\%\-O3\fP
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-g, \-gline\-tables\-only, \-gmodules
Управление выводом отладочной информации. Обратите внимание, что отладочная информация Clang работает
лучше всего при \fI\%\-O0\fP\&. Если указано более одной опции, начинающейся с \fI\-g\fP,
побеждает последняя:
.INDENT 7.0
.INDENT 3.5
\fI\%\-g\fP Генерировать отладочную информацию.
.sp
\fI\%\-gline\-tables\-only\fP Генерировать только отладочную информацию таблицы строк. Это
позволяет получать символизированные трассировки стека с информацией о встраивании, но не
включает никакой информации о переменных, их расположении или типах.
.sp
\fI\%\-gmodules\fP Генерировать отладочную информацию, которая содержит внешние
ссылки на типы, определённые в модулях Clang или прекомпилированных заголовках, вместо
вывода избыточной отладочной информации о типах в каждый объектный файл. Эта
опция прозрачно переключает формат модуля Clang на контейнеры объектных файлов,
которые содержат модуль Clang вместе с отладочной информацией.
При компиляции программы, использующей модули Clang или прекомпилированные заголовки,
эта опция создаёт полную отладочную информацию с более быстрым временем компиляции
и гораздо меньшими объектными файлами.
.sp
Эту опцию не следует использовать при сборке статических библиотек для
распространения на другие машины, потому что отладочная информация будет содержать
ссылки на кэш модулей на машине, где были собраны объектные файлы в
библиотеке.
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B \-fstandalone\-debug \-fno\-standalone\-debug
Clang поддерживает ряд оптимизаций для уменьшения размера отладочной
информации в двоичном файле. Они работают на основе предположения, что
информация об отладочных типах может быть распределена по нескольким единицам компиляции.
Например, Clang не будет выдавать определения типов для типов, которые не
нужны модулю и могут быть заменены на предварительное объявление.
Кроме того, Clang будет выдавать информацию о типе для динамического класса C++ только в том
модуле, который содержит таблицу виртуальных методов (vtable) для этого класса.
.sp
Опция \fI\%\-fstandalone\-debug\fP отключает эти оптимизации.
Это полезно при работе со сторонними библиотеками, которые не поставляются с
отладочной информацией. Это значение по умолчанию в Darwin. Обратите внимание, что Clang
никогда не будет выдавать информацию о типах для типов, которые вообще не используются в
программе.
.UNINDENT
.INDENT 0.0
.TP
.B \-feliminate\-unused\-debug\-types
По умолчанию Clang не выводит информацию о типах для типов, которые определены,
но не используются в программе. Чтобы сохранить отладочную информацию для этих неиспользуемых типов,
можно использовать отрицание \fB\-fno\-eliminate\-unused\-debug\-types\fP.
.UNINDENT
.INDENT 0.0
.TP
.B \-fexceptions
Включить генерацию информации о раскрутке стека. Это позволяет исключениям быть выброшенными
через стековые фреймы, скомпилированные Clang. По умолчанию включено для x86\-64.
.UNINDENT
.INDENT 0.0
.TP
.B \-ftrapv
Генерировать код для перехвата ошибок целочисленного переполнения. Переполнение знаковых целых чисел является
неопределённым поведением в C. С этим флагом генерируется дополнительный код для обнаружения этого и
аварийного завершения при возникновении.
.UNINDENT
.INDENT 0.0
.TP
.B \-fvisibility
Этот флаг устанавливает уровень видимости по умолчанию.
.UNINDENT
.INDENT 0.0
.TP
.B \-fcommon, \-fno\-common
Этот флаг указывает, что переменные без инициализаторов получают общую (common) линковку.
Его можно отключить с помощью \fI\%\-fno\-common\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-ftls\-model=<модель>
Установить модель локального хранилища потоков (TLS) по умолчанию для использования с локальными переменными потоков.
Допустимые значения: \(dqglobal\-dynamic\(dq, \(dqlocal\-dynamic\(dq,
\(dqinitial\-exec\(dq и \(dqlocal\-exec\(dq. По умолчанию используется \(dqglobal\-dynamic\(dq. Модель по умолчанию
может быть переопределена с помощью атрибута tls_model. Компилятор попытается
выбрать более эффективную модель, если это возможно.
.UNINDENT
.INDENT 0.0
.TP
.B \-flto, \-flto=full, \-flto=thin, \-emit\-llvm
Генерировать выходные файлы в форматах LLVM, подходящих для сквозной оптимизации на этапе компоновки (LTO).
При использовании с \fI\%\-S\fP это генерирует файлы на ассемблере промежуточного языка LLVM,
в противном случае это генерирует объектные файлы в формате биткода LLVM
(которые могут быть переданы компоновщику в зависимости от опций выбора этапа).
.sp
Значение по умолчанию для \fI\%\-flto\fP — \(dqfull\(dq, при котором
биткод LLVM подходит для монолитной сквозной оптимизации на этапе компоновки (LTO), где
компоновщик объединяет все такие модули в один общий модуль для
оптимизации. При значении \(dqthin\(dq вместо этого вызывается компиляция с использованием
\fI\%ThinLTO\fP.
.sp
\fBПРИМЕЧАНИЕ:\fP
.INDENT 7.0
.INDENT 3.5
В Darwin при использовании \fI\%\-flto\fP вместе с \fI\%\-g\fP и
компиляции и компоновке в отдельные этапы, вам также необходимо передать
\fB\-Wl,\-object_path_lto,<имя_файла_lto>.o\fP на этапе компоновки, чтобы указать компоновщику ld64
не удалять временный объектный файл, созданный во время сквозной оптимизации на этапе компоновки (LTO)
(этот флаг автоматически передаётся компоновщику Clang,
если компиляция и компоновка выполняются в один этап). Это позволяет отлаживать
исполняемый файл, а также генерировать комплект \fB\&.dSYM\fP с помощью \fBdsymutil(1)\fP\&.
.UNINDENT
.UNINDENT
.UNINDENT
.SS Опции драйвера
.INDENT 0.0
.TP
.B \-###
Печатать (но не выполнять) команды для запуска в этой компиляции.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-help
Показать доступные опции.
.UNINDENT
.INDENT 0.0
.TP
.B \-Qunused\-arguments
Не выводить предупреждения для неиспользуемых аргументов драйвера.
.UNINDENT
.INDENT 0.0
.TP
.B \-Wa,<аргументы>
Передать аргументы, разделённые запятыми, в args ассемблеру.
.UNINDENT
.INDENT 0.0
.TP
.B \-Wl,<аргументы>
Передать аргументы, разделённые запятыми, в args компоновщику.
.UNINDENT
.INDENT 0.0
.TP
.B \-Wp,<аргументы>
Передать аргументы, разделённые запятыми, в args препроцессору.
.UNINDENT
.INDENT 0.0
.TP
.B \-Xanalyzer <аргумент>
Передать arg статическому анализатору.
.UNINDENT
.INDENT 0.0
.TP
.B \-Xassembler <аргумент>
Передать arg ассемблеру.
.UNINDENT
.INDENT 0.0
.TP
.B \-Xlinker <аргумент>
Передать arg компоновщику.
.UNINDENT
.INDENT 0.0
.TP
.B \-Xpreprocessor <аргумент>
Передать arg препроцессору.
.UNINDENT
.INDENT 0.0
.TP
.B \-o <файл>
Записать вывод в файл.
.UNINDENT
.INDENT 0.0
.TP
.B \-print\-file\-name=<файл>
Вывести полный путь к библиотеке файла.
.UNINDENT
.INDENT 0.0
.TP
.B \-print\-libgcc\-file\-name
Вывести путь к библиотеке для текущей используемой библиотеки времени выполнения компилятора
(\(dqlibgcc.a\(dq или \(dqlibclang_rt.builtins.*.a\(dq).
.UNINDENT
.INDENT 0.0
.TP
.B \-print\-prog\-name=<имя>
Вывести полный путь к программе с именем name.
.UNINDENT
.INDENT 0.0
.TP
.B \-print\-search\-dirs
Вывести пути, используемые для поиска библиотек и программ.
.UNINDENT
.INDENT 0.0
.TP
.B \-save\-temps
Сохранять промежуточные результаты компиляции.
.UNINDENT
.INDENT 0.0
.TP
.B \-save\-stats, \-save\-stats=cwd, \-save\-stats=obj
Сохранять внутреннюю статистику генерации кода (LLVM) в файл в текущем
каталоге (\fI\%\-save\-stats\fP/\(dq\-save\-stats=cwd\(dq) или в каталоге
выходного файла (\(dq\-save\-state=obj\(dq).
.UNINDENT
.INDENT 0.0
.TP
.B \-integrated\-as, \-no\-integrated\-as
Используется для включения и отключения соответственно использования встроенного
ассемблера. Включён ли встроенный ассемблер по умолчанию, зависит от цели.
.UNINDENT
.INDENT 0.0
.TP
.B \-time
Измерять время выполнения отдельных команд.
.UNINDENT
.INDENT 0.0
.TP
.B \-ftime\-report
Печатать сводку по времени выполнения каждого этапа компиляции.
.UNINDENT
.INDENT 0.0
.TP
.B \-v
Показывать команды для выполнения и использовать подробный вывод.
.UNINDENT
.SS Опции диагностики
.INDENT 0.0
.TP
.B \-fshow\-column, \-fshow\-source\-location, \-fcaret\-diagnostics, \-fdiagnostics\-fixit\-info, \-fdiagnostics\-parseable\-fixits, \-fdiagnostics\-print\-source\-range\-info, \-fprint\-source\-range\-info, \-fdiagnostics\-show\-option, \-fmessage\-length
Эти опции управляют тем, как Clang выводит информацию о диагностических сообщениях
(ошибках и предупреждениях). Дополнительную информацию см. в руководстве пользователя Clang.
.UNINDENT
.SS Опции препроцессора
.INDENT 0.0
.TP
.B \-D<имя_макроса>=<значение>
Добавляет неявную директиву #define в буфер предопределений, который читается до
препроцессорной обработки исходного файла.
.UNINDENT
.INDENT 0.0
.TP
.B \-U<имя_макроса>
Добавляет неявную директиву #undef в буфер предопределений, который читается до
препроцессорной обработки исходного файла.
.UNINDENT
.INDENT 0.0
.TP
.B \-include <имя_файла>
Добавляет неявную директиву #include в буфер предопределений, который читается до
препроцессорной обработки исходного файла.
.UNINDENT
.INDENT 0.0
.TP
.B \-I<каталог>
Добавить указанный каталог в путь поиска включаемых файлов.
.UNINDENT
.INDENT 0.0
.TP
.B \-F<каталог>
Добавить указанный каталог в путь поиска включаемых файлов фреймворков.
.UNINDENT
.INDENT 0.0
.TP
.B \-nostdinc
Не искать включаемые файлы в стандартных системных каталогах или встроенных каталогах компилятора.
.UNINDENT
.INDENT 0.0
.TP
.B \-nostdlibinc
Не искать включаемые файлы в стандартных системных каталогах, но
искать во встроенных каталогах включаемых файлов компилятора.
.UNINDENT
.INDENT 0.0
.TP
.B \-nobuiltininc
Не искать включаемые файлы во встроенном каталоге clang.
.UNINDENT
.SH ОКРУЖЕНИЕ
.INDENT 0.0
.TP
.B TMPDIR, TEMP, TMP
Эти переменные окружения проверяются (в указанном порядке) на наличие места для записи
временных файлов, используемых в процессе компиляции.
.UNINDENT
.INDENT 0.0
.TP
.B CPATH
Если эта переменная окружения присутствует, она обрабатывается как разделённый список путей
для добавления в список путей поиска включаемых файлов системы по умолчанию. Разделитель —
зависимый от платформы разделитель, как в переменной окружения PATH.
.sp
Пустые компоненты в переменной окружения игнорируются.
.UNINDENT
.INDENT 0.0
.TP
.B C_INCLUDE_PATH, OBJC_INCLUDE_PATH, CPLUS_INCLUDE_PATH, OBJCPLUS_INCLUDE_PATH
Эти переменные окружения указывают дополнительные пути, как для \fI\%CPATH\fP, которые
используются только при обработке соответствующего языка.
.UNINDENT
.INDENT 0.0
.TP
.B MACOSX_DEPLOYMENT_TARGET
Если \fI\%\-mmacosx\-version\-min\fP не указана, целевая версия развёртывания по умолчанию
считывается из этой переменной окружения. Эта опция влияет только на цели Darwin.
.UNINDENT
.SH ИЗВЕСТНЫЕ ОШИБКИ
.sp
Для сообщения об ошибках посетите <\fI\%https://github.com/llvm/llvm\-project/issues/\fP>. Большинство отчётов об ошибках должны
включать препроцессированные исходные файлы (используйте опцию \fI\%\-E\fP) и полный
вывод компилятора, а также информацию для воспроизведения.
.SH СМ. ТАКЖЕ
.sp
\fBas(1)\fP, \fBld(1)\fP
.SH АВТОРЫ
Поддерживается командой Clang / LLVM (<http://clang.llvm.org>)
.SH COPYRIGHT
2007-2023, The Clang Team
